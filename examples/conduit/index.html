<!DOCTYPE html>
<html lang="en">
<head>
  <title>Conduit</title>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width'>
  <meta name='theme-color' content='#aa1e1e'>

  <link rel=preload as="script" href="../../dist/coral-ui-min.js" >
  <link rel=preload as="style"  href="https://demo.productionready.io/main.css" >
  <link rel=preload as="style"  href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" type="text/css" >
  <link rel=preload as="style"  href="https://fonts.googleapis.com/css?family=Titillium+Web:700|Source+Serif+Pro:400,700|Merriweather+Sans:400,700|Source+Sans+Pro:400,300,600,700,300italic,400italic,600italic,700italic&display=swap" type="text/css">

  <script src='../../src/coral-observe.js'></script>
  <script src='../../src/coral-ui.js'></script>
  <!--
  <script src='../../dist/coral-ui-min.js'></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css"/>
  -->

  <!--
  <script src='../../dist/coral.ui-min.js'></script>
  <script src='../../dist/js/coral.ui-min.js'></script>
  <script src='../../public/js/xs.js'></script>
  <script src='../../public/js/xs_linkspeed.js'></script>
  <link href="main.css" rel="stylesheet" type="text/css" >
  -->
  
  <!-- Import Ionicon icons & Google Fonts our Bootstrap theme relies on -->
  <link href="https://demo.productionready.io/main.css" rel="stylesheet" type="text/css" >
  <link href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" rel="stylesheet" type="text/css" media="print" onload="this.media='all'">
  <link href="https://fonts.googleapis.com/css?family=Titillium+Web:700|Source+Serif+Pro:400,700|Merriweather+Sans:400,700|Source+Sans+Pro:400,300,600,700,300italic,400italic,600italic,700italic&display=swap" rel="stylesheet" type="text/css">
  <link rel='icon' href='favicon.ico'>

  <script>window.MSInputMethodContext && document.documentMode && document.write('<script src="../../public/js/coral.uiIE11.js"><\x2fscript>');</script>


  <!-- <script src='layout/head.js'></script> -->

</head>
<body style='overflow-y:scroll'>
  <script src='layout/header.js'></script>
 <!-- <script src='pages/profile.js'></script>-->
<!-- <div reef reef-p-src='~rootEl.outerHTML~$js$pages/profile.js'></div> -->
  <div coral='switcher' 
       coral-s-pagedata='~rootEl.innerHTML'></div>
  <script src='layout/footer.js'></script>
  <script>
        s = {"article":{"title":"Sample markdown test","slug":"sample-markdown-test-wxlaj5","body":"---\n__Advertisement :)__\n\n- __[pica](https://nodeca.github.io/pica/demo/)__ - high quality and fast image\n  resize in browser.\n- __[babelfish](https://github.com/nodeca/babelfish/)__ - developer friendly\n  i18n with plurals support and easy syntax.\n\nYou will like those projects!\n\n---\n\n# h1 Heading 8-)\n## h2 Heading\n### h3 Heading\n#### h4 Heading\n##### h5 Heading\n###### h6 Heading\n\n\n## Horizontal Rules\n\n___\n\n---\n\n***\n\n\n## Typographic replacements\n\nEnable typographer option to see result.\n\n(c) (C) (r) (R) (tm) (TM) (p) (P) +-\n\ntest.. test... test..... test?..... test!....\n\n!!!!!! ???? ,,  -- ---\n\n\"Smartypants, double quotes\" and 'single quotes'\n\n\n## Emphasis\n\n**This is bold text**\n\n__This is bold text__\n\n*This is italic text*\n\n_This is italic text_\n\n~~Strikethrough~~\n\n\n## Blockquotes\n\n\n\u003e Blockquotes can also be nested...\n\u003e\u003e ...by using additional greater-than signs right next to each other...\n\u003e \u003e \u003e ...or with spaces between arrows.\n\n\n## Lists\n\nUnordered\n\n+ Create a list by starting a line with `+`, `-`, or `*`\n+ Sub-lists are made by indenting 2 spaces:\n  - Marker character change forces new list start:\n    * Ac tristique libero volutpat at\n    + Facilisis in pretium nisl aliquet\n    - Nulla volutpat aliquam velit\n+ Very easy!\n\nOrdered\n\n1. Lorem ipsum dolor sit amet\n2. Consectetur adipiscing elit\n3. Integer molestie lorem at massa\n\n\n1. You can use sequential numbers...\n1. ...or keep all the numbers as `1.`\n\nStart numbering with offset:\n\n57. foo\n1. bar\n\n\n## Code\n\nInline `code`\n\nIndented code\n\n    // Some comments\n    line 1 of code\n    line 2 of code\n    line 3 of code\n\n\nBlock code \"fences\"\n\n```\nSample text here...\n```\n\nSyntax highlighting\n\n``` js\nvar foo = function (bar) {\n  return bar++;\n};\n\nconsole.log(foo(5));\n```\n\n## Tables\n\n| Option | Description |\n| ------ | ----------- |\n| data   | path to data files to supply the data that will be passed into templates. |\n| engine | engine to be used for processing templates. Handlebars is the default. |\n| ext    | extension to be used for dest files. |\n\nRight aligned columns\n\n| Option | Description |\n| ------:| -----------:|\n| data   | path to data files to supply the data that will be passed into templates. |\n| engine | engine to be used for processing templates. Handlebars is the default. |\n| ext    | extension to be used for dest files. |\n\n\n## Links\n\n[link text](http://dev.nodeca.com)\n\n[link with title](http://nodeca.github.io/pica/demo/ \"title text!\")\n\nAutoconverted link https://github.com/nodeca/pica (enable linkify to see)\n\n\n## Images\n\n![Minion](https://octodex.github.com/images/minion.png)\n![Stormtroopocat](https://octodex.github.com/images/stormtroopocat.jpg \"The Stormtroopocat\")\n\nLike links, Images also have a footnote style syntax\n\n![Alt text][id]\n\nWith a reference later in the document defining the URL location:\n\n[id]: https://octodex.github.com/images/dojocat.jpg  \"The Dojocat\"\n\n\n## Plugins\n\nThe killer feature of `markdown-it` is very effective support of\n[syntax plugins](https://www.npmjs.org/browse/keyword/markdown-it-plugin).\n\n\n### [Emojies](https://github.com/markdown-it/markdown-it-emoji)\n\n\u003e Classic markup: :wink: :crush: :cry: :tear: :laughing: :yum:\n\u003e\n\u003e Shortcuts (emoticons): :-) :-( 8-) ;)\n\nsee [how to change output](https://github.com/markdown-it/markdown-it-emoji#change-output) with twemoji.\n\n\n### [Subscript](https://github.com/markdown-it/markdown-it-sub) / [Superscript](https://github.com/markdown-it/markdown-it-sup)\n\n- 19^th^\n- H~2~O\n\n\n### [\\\u003cins\u003e](https://github.com/markdown-it/markdown-it-ins)\n\n++Inserted text++\n\n\n### [\\\u003cmark\u003e](https://github.com/markdown-it/markdown-it-mark)\n\n==Marked text==\n\n\n### [Footnotes](https://github.com/markdown-it/markdown-it-footnote)\n\nFootnote 1 link[^first].\n\nFootnote 2 link[^second].\n\nInline footnote^[Text of inline footnote] definition.\n\nDuplicated footnote reference[^second].\n\n[^first]: Footnote **can have markup**\n\n    and multiple paragraphs.\n\n[^second]: Footnote text.\n\n\n### [Definition lists](https://github.com/markdown-it/markdown-it-deflist)\n\nTerm 1\n\n:   Definition 1\nwith lazy continuation.\n\nTerm 2 with *inline markup*\n\n:   Definition 2\n\n        { some code, part of Definition 2 }\n\n    Third paragraph of definition 2.\n\n_Compact style:_\n\nTerm 1\n  ~ Definition 1\n\nTerm 2\n  ~ Definition 2a\n  ~ Definition 2b\n\n\n### [Abbreviations](https://github.com/markdown-it/markdown-it-abbr)\n\nThis is HTML abbreviation example.\n\nIt converts \"HTML\", but keep intact partial entries like \"xxxHTMLyyy\" and so on.\n\n*[HTML]: Hyper Text Markup Language\n\n### [Custom containers](https://github.com/markdown-it/markdown-it-container)\n\n::: warning\n*here be dragons*\n:::\n","createdAt":"2020-04-02T18:43:12.690Z","updatedAt":"2020-04-03T07:36:38.083Z","tagList":["Hello","sample","markdown"],"description":"This is just markdown sample article","author":{"username":"Hello-A","bio":null,"image":"https://static.productionready.io/images/smiley-cyrus.jpg","following":false},"favorited":false,"favoritesCount":1}}

  var baseurl = 'https://conduit.productionready.io/api'
  var options = { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' };
  var user = localStorage.getItem('creds')
  function fdate(d) { return new Date(d).toLocaleString(undefined, options) }

  // ============================
  // our "router"
  // ============================
  coral.ui.register ('switcher', {
    update: function () {return 'done'},
    state :['page', 'resource', 'tag', 'modifier'],
    data: {
      alias: {
        'login': 'login-register',
        'register': 'login-register',
        'login-register': 'notforyou'
      }
    },
    mutate: function () {
      if (this.state.page) {
        var page = this.data.alias[this.state.page] || this.state.page
        this.bind ('state.pagedata', '$js$pages/' + page + '.js') 
      }
    },
    listeners: {
      hashchange: function() {
        var parts = window.location.hash.split('/')
        this.state.page = parts[1] || 'home'
        this.state.resource = parts[2]
        this.state.modifier = parts[3]
        this.state.tag = getUrlParameter('tag')
      }, 
      coralLoadHTMLFail: function () {
        this.state.pagedata = '<h1 style="justify-content:center; height:300px; align-items:center; display:flex;">404 - dang ðŸ˜¯ it.</h1>'
      }
    }
  })

  function dohashchange(e) {
    var ui = coral.ui.find ('[coral=switcher]')
    if (ui) coral.ui.emit (ui.rootEl, 'hashchange')
  }
  window.addEventListener('hashchange', dohashchange) // since this event is at the window level, reflect it to out component

  // ============================
  // helper functions
  // ============================
  function getUrlParameter(name) {
    name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
    var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
    var results = regex.exec(location.hash);
    return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
  }

  coral.ui.ready(function () {
    dohashchange() // do this after coral.ui is ready
  })

  </script>
</body>

</html>