!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=3)}([function(t,e){(function(){function t(r,o,i,s){if(!(r instanceof Node)&&(!r&&this.__xs__&&(r=this),r)){var c=!!r.__xs__;i&&(s=s&&s.concat()||[]).push(i),o=a(o,r,s);var d=n(r);if(!d.skip){var f=d.v;for(var h in f)h in r||(delete f[h],l("delete",r,h,null,null));for(h in r)c&&!(h in f)&&l("add",r,h,r[h],null),e(r,h,o,s);return Array.isArray(r)&&function(e,r){if(e.__xs__.arrhelpers)return;e.__xs__.arrhelpers=!0;for(var n=function(r){u(e,r,(function(){var e=this,n=e.__xs__;n.pause=!0;var o=Array.prototype[r].apply(e,arguments);return n.pause=!1,p(n.s,e,(function(){t(e)})),l(r,e,arguments,e,null),o}))},o=["pop","push","shift","unshift","splice","reverse","sort"],i=0;i<o.length;i++)n(o[i])}(r),r.__observe__||void 0!==s||void 0!==i||u(r,"__observe__",t),r}}}function e(e,r,o,i){var s=n(e),c=s.v;o!==e&&(o=a(o,e));var u=e[r];if(!(r in c)){c[r]=u;Object.defineProperty(e,r,{get:function(){return c[r]},set:function(n){var a=c[r];return c[r]=n,"object"!=typeof n||null===n||n.__xs__||p(s.s,e,(function(){t(n,o,{o:e,p:r},i)})),l("set",e,r,n,a),n},enumerable:!0,configurable:!0})}"object"==typeof u&&t(u,o,{o:e,p:r},i)}var r=0;function n(t){t.__xs__||u(t,"__xs__",{s:"@"+r++,v:{},h:[]});return t.__xs__}var o,i=0;function a(t,e,r){return t!==e&&t?(t="object"==typeof t?n(t).h:[{rootobj:e,f:t,path:r,s:"#"+i++}],function(t,e,r){if(t===e)return;for(var n=r?void 0:"",o=0;o<e.length;o++){var i=e[o].s;t[i]||(void 0===n&&(n=r.reduce((function(t,e){return t+(t&&".")+e.p}),"")),t[i]=!0,t.push({f:e[o].f,s:e[o].s,path:r,dotpath:n,root:r?r[0].p:void 0}))}}(n(e).h,t,r),e):e}function s(t){if(t===this.obj)return this.prop;for(var e=this.chain,r=0;r<e.length;r++)if(e[r].o===t)return e[r].p;return null}function l(t,e,r,n,o){var i=e.__xs__;if(i&&i.h&&!i.pause)for(var a=i.h,l=0;l<a.length;l++){var c=a[l],u={rootobj:c.rootobj,obj:e,action:t,prop:r,value:n,prev:o,chain:c.path,root:c.root||r,path:c.dotpath?c.dotpath+"."+r:r,find:s};c.f.call(e,u)}}function c(t,e){if(void 0===e)return t;if("object"!=typeof e||null===e)return e;var r=Object.prototype.toString.call(e);if("[object RegExp]"===r||"[object Date]"===r||e instanceof Node)return e;if("[object Array]"===r){"[object Array]"!==Object.prototype.toString.call(t)&&(t=[]);var n=[];for(var o in e)o in t||(n[o]=e[o]);for(o in n)t[o]=n[o];return t}for(var i in"object"!=typeof t&&(t={}),e)t[i]=c(t[i],e[i]);return t}function u(t,e,r,n){return Object.defineProperty(t,e,{value:r,enumerable:!1,configurable:!0,writable:!!n}),r}var d={"@":{}};function f(){o=null;var t=d;d={"@":{}};var e=t["@"];for(var r in t["@"]=null,e)e[r]&&e[r].f.call(e[r].o,e[r].o);for(r in t)t[r]&&t[r].f.call(t[r].o,t[r].o)}function p(t,e,r){("@"===t[0]?d["@"]:d)[t]={f:r,o:e},o||(o=setTimeout(f,0))}var h=window.coral=window.coral||{};h.observe=t,h.unobserve=function t(e,r){if(e.__xs__){for(var n=e.__xs__.h,o=n.length-1;o>=0;o--){n[o].f===r&&n.splice(o,1)}for(var i in e)"object"==typeof i&&null!==i&&t(i[e],r)}},h.alias=function(t,e,r,n,o){if(t===r&&e===n)return null;var i=function(r){r.chain&&r.chain.length&&r.chain[0].p===n?(1===r.chain.length&&t[e]!==r.obj&&(t[e]=r.obj),r.chain[0].p=e,o(r),r.chain[0].p=n):r.chain||r.prop!==n||(r.value!==t[e]&&(t[e]=r.value),r.prop=r.path=r.root=e,o(r),r.prop=r.path=r.root=n)};if(r instanceof Node){t[e]=r[n],t.__observer__||h.observe(t);var a=Object.getOwnPropertyDescriptor(t,e);return Object.defineProperty(t,e,{get:function(){return r[n]},set:function(t){return r[n]=t,a.set(t)},enumerable:!0,configurable:!0}),null}n in r||(r[n]=r[n]),h.observe(r,i),t[e]=r[n],h.observe(t);var s=Object.getOwnPropertyDescriptor(r,n),l=s.get,c=s.set;return Object.defineProperty(t,e,{get:l,set:c,enumerable:!0,configurable:!0}),i},h.assign=function(){for(var t=arguments,e=0,r=t[0];++e<t.length;)r=c(r,t[e]);return r},h.tick=p,h.dot=function(t,e){"string"==typeof e&&(e=e.split("."));for(var r=e.length,n=0;n<r;n++){var o=e[n],i=t;if((!(t=i[o])||"object"!=typeof t)&&(n+1<r||!(o in i)))return{last:{obj:i,prop:o}}}return{value:t,obj:i,prop:o}},h.privateprop=u}).call(this)},function(t,e){var r;window.coral.ui=function(t){t=t||{};var e=window.coral,r=document.createRange(),n=0,o={},i=0;const a={"":{update:function(){var t=this.state,r=this.slots||{},n=r[t.dataslot||"default"];if(!n)return"done";if(!t.datasrc)return"done";var o,a="datactx"in t?this.dot(t.datactx).value:this,s="datasrc"in t?this.dot(t.datasrc).value:this,l=t.genkey,c=s&&n||r.empty&&r.empty.text||{text:"<div> </div>"},u=t.datakey;Array.isArray(s)||(s=[s]),r.header&&this.html(-1,r.header.script?r.header.script(a):r.header.text);for(var d=0;d<s.length;d++){var f=typeof s[d];s[d]&&(o=void 0===u?s[d].__key__:s[d][u]),l&&void 0===o&&"object"===f&&(o=e.privateprop(s[d],"__key__","k"+i++));var p=c.script?c.script(s[d],d,a):c.text;this.html(o||d,p)}r.footer&&this.html(-2,r.footer.script?r.footer(a):r.footer.text)}}};function s(){console.error(arguments)}function l(){throw console.error(arguments),Error("CORAL FAULT")}function c(t,e){return t[e]=t[e]||{},t[e]}function u(t){for(var e=t||document,r=[],n=e.querySelectorAll("[coral]"),o=0;o<n.length;o++)if(n[o].coral)n[o].coral.render_();else{var i=f(n[o],e.coral);p(i,"mount"),i&&i.render_(),r.push(i)}return r}function d(t,e){try{var r=e.getAttribute("type"),n=r.match(/\(([^)]*)\)/);n=n?n[1]:"";var o=e.innerHTML.trim(),i=t.props=t.props||{};if(o)switch(r.split("(")[0].trim()){case"coral-method":c(t,"methods")[e.getAttribute("name")||"default"]=new Function(n,o);break;case"coral-observer":c(t,"observers")[e.getAttribute("name")||"default"]=new Function(n,o);break;case"coral-function":e.coralScript=new Function(n,o);break;case"coral-template":e.coralScript=H(n,o);break;default:var a=r.split("coral-s-")[1];if(a){try{o=JSON.parse(o)}catch(t){}return i[a.trim()]=o,!0}s("unknown coral slot type",r)}}catch(t){s("coral-slot script parsing ERROR:",o||e.type,e,t)}}function f(t,e){if(!t)return null;var r=t.getAttribute("coral");try{var n=function(t){for(var e,r=t.attributes,n=0;n<r.length;n++){var o=r[n],i=o.name+"";if(0===i.indexOf("coral-s")){e=e||{};var a=o.value,s=i[7],l=a.split(s+s);a=l[0],l=l[1];var u=i.substring(8),d=h(u,a);try{a=JSON.parse(a)}catch(t){}d?c(e,"bind")[u]=d:c(e,"props")[u]=a,l&&(c(e,"events")[u]=l)}else if(0===i.indexOf("coral-on-")){var f=i.substring(9);c(e=e||{},"listeners")[f]=o.value}}return e}(t),o=t.cloneNode(!0);if(o&&(n=n||{},o.children))for(var i=0;i<o.children.length;i++){var a=c(n,"slots"),l=o.children[i],u=l.getAttribute,f=u&&u.call(l,"coral-slot")||"default";if("SCRIPT"!==l.nodeName||0!==l.type.indexOf("coral-")||!d(n,l)){var p=a[f]=a[f]||[];p.push(l),p.text=(p.text||"")+(u?l.outerHTML:l.state),"el"in p||(p.el=l),!("script"in p)&&l.coralScript&&(p.script=l.coralScript)}}return v(t,r,n,e)}catch(e){s("UI failed to mount: ",r,t,e)}return null}function p(t,e){return t.lifecycle&&t.lifecycle[e]&&t.lifecycle[e].call(t)}function h(t,e){if("~"!==e[0])return!1;var r=e.split("~");return{prop:r[1],selector:r.length<2?"^":r[2]}}function v(e,r,n,i){n=n||{},a[r]||l("UI NOT registered: ",r);var s=a[r],c=new t.use(r,e,s,n);if(e.setAttribute("coral-stage","mounted"),c.listeners){var u=[],d=c.listeners;for(var f in d){u.push(f);var p=f.split("."),h=p[0];o[h]||(o[h]=_(h),document.addEventListener(h,o[h],!1)),d[h]=d[f],"stop"===d[p[1]]&&(d[h].coralStop=!0)}c.listeners=u}return c}function _(t){return function(e){for(var r,n,o=e.detail&&e.detail.coralEmitRootEl||e.target,i="coral-on-"+t,s=[];o;){if(o.getAttribute){var l=o.getAttribute(i);l||(l=o.getAttribute(i+".stop"))&&(l.stop=!0),l&&s.push(l.trim());var c=o.coral;if(e.coral||(e.coral=c),c&&s.length)for(var u=0;u<s.length;u++){var d=s[u],f=d,p=(n=void 0,(n=f.match(/\(([^)]*)\)/))&&n[1]||"");if(p){p=p.split(","),f=f.split("(")[0];var h=p.indexOf("$event");h>=0&&(p[h]=e)}var v,_=c.dot(f);if(void 0!==_.value&&(m(_.value)?v=_.value.apply(_.obj,p||[e]):c.dot(f,p[0]),"stop"===v||d.stop))return}var g=c&&c.name;if(a[g]&&(r=a[g]).listeners&&r.listeners[t]&&("stop"===r.listeners[t].call(c,e)||r.listeners[t].coralStop))return}o=o.parentNode}}}function m(t){return!!(t&&t.constructor&&t.call&&t.apply)}function g(t,e){if(!Array.isArray(t))return t;for(var r={},n=0;n<t.length;n++)r[t[n]]=arguments.length<=1||e;return r}function b(t,r,n,o){for(var i=0;i<r.length;i++){var a=r[i];void 0!==(a in o?o[a]:n[a])&&(t[a]=e.assign({},n[a],o[a]))}}function y(t,r,o,i){o=o||{},i=i||{};var s=this.__={};b(s,["update","update","bind"],o,i),b(this,["methods","observers","listeners","mutate","lifecycle"],o,i),"shared"in o&&(this.shared=o.shared),(o.events||i.events)&&(s.events=e.assign({},g(o.events),i.events)),(o.decorators||i.decorators)&&(s.decorators=e.assign({},g(o.decorators),g(i.decorators))),(o.slots||i.slots)&&e.assign(c(this,"slots"),o.slots,i.slots),"super"in o&&(this.super=a[o.super]);var l=this.methods;if(l)for(var u in l)l[u]=m(l[u])?l[u].bind(this):l[u];this.name=t,this.rootEl=r,r.coral=this,s.obsf=y.prototype.react.bind(this);var d=this.state=e.observe({},s.obsf);for(u in e.assign(d,s.decorators,o.state,i.props),s.bind)E(this,"state."+u,s.bind[u].selector,s.bind[u].prop);return e.observe(d),this.sym="$"+n++,this}function N(t){var e="";for(var r in t)e+=":xs:"+r+"\n";return e}function x(t,e,r){var n=this,o=(r=r||{}).xhr||new XMLHttpRequest;return o.onerror=function(t){console.log("CORAL HTTP LOAD FAIL",t,e),B(n.rootEl,"coralLoadDataFail",{url:e})},o.onload=function(e){if(200===this.status){var i=this.response;try{i=JSON.parse(i)}catch(t){}r.sanitize&&(i=M(i)),n.dot(t,i)}else this.status&&o.onerror(e)},o.open(r.method||"GET",e,!0),o.send(null),o}function w(t,e){var r=this;if("loading"!==document.readyState){var n=document.createElement("script");n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}else document.write('<script src="'+e+'"></script'),n=(n=document.getElementsByTagName("script"))[n.length-1];return n.onerror=function(t){console.log("CORAL SCRIPT LOAD",t),n.parentNode.removeChild(n),B(r.rootEl,"coralLoadHTMLFail",{url:e})},n.coralCB=function(e){r.dot(t,e)},document.currentScript||(window.rf_script=n),n}function j(t,r){var n=r.split("."),o=e.dot(t,n);if(o.obj)return o;for(var i=n,a=t,s=0;s<i.length;s++){var l=a[i[s]];null!=l&&"object"==typeof l||(a[i[s]]=s==i.length-1?void 0:{}),a=a[i[s]]}return e.dot(t,n)}function E(t,r,o,i,a){var s,u;o=o||"^";var d=c(t.__,"bind"),f=c(d,r);if(i=i||r,f.proppath!==r||f.selector!==o||f.prop!==i){switch(o[0]){case"^":(s=function(t,e){for(var r=t&&t.rootEl;t&&r;){if(0==e--)return t;do{r=r.parentNode}while(r&&!r.coral);t=r.coral}return null}(t,0|o.substring(1)))||l("unable to find parent to state bind",t,r),u=j(s,i);break;case"#":case".":case"[":var p=(a||document).querySelector(o);(s=p&&p.coral)||l("unable to locate coral for bind"),u=j(s,i);break;default:var h=o.split("$");switch(d[r]={proppath:r,selector:o,prop:i},h[1]){case"data":case"html":case"json-raw":x.call(t,r,h[2]);break;case"json":x.call(t,r,h[2],{sanitize:!0});break;case"jsonp":h[2]=function(t,e,r){if(t.indexOf("{JSONP}")<0)return t;var o="jsonp_rf_"+n++;return window[o]=function(t){e.dot(r,t),delete window[o]},t.replace("{JSONP}",o)}(h[2],t,r);case"js":w.call(t,r,h[2]);break;default:l("unknown data bind: "+r+": "+o)}if(u=j(t,i),i===r)return}var v=j(t,r);v.obj||l("state bind not found: "+r);var _=e.alias(v.obj,v.prop,u.obj,u.prop,(function(e){t.rootEl&&t.rootEl.getRootNode()===document?t.react(e):t.unmount()}));d[r]={proppath:r,selector:o,prop:i,sp:u,unobs:_}}}function A(){p(this,"beforeRender");var t=new Date,e=this.rootEl;if(e&&e.getRootNode()===document){var r=this.__.update;if(r){var n=this.__.fcounter;n&&this.htmlBegin(),n=this.__.fcounter;var o=r.call(this,this.slots)||"";this.__.harr?this.htmlEnd():"string"==typeof o?"done"!==o&&(e.innerHTML=o):(e.innerHTML="",Array.isArray(o)?o.forEach((function(t){e.appendChild(t)})):e.appendChild(o)),e.parentNode.classList.contains("container")&&(e=e),u(e),e.parentNode.classList.contains("container")&&console.log("render",new Date-t)}p(this,"afterRender")}else this.unmount()}function S(){if(0!==this.__.renderflag){var t=function(t){var e=document.activeElement;if(e)for(var r=e.selectionStart,n=e.selectionEnd,o=[];e&&e!==t&&e.parentNode;)o.push((i=e,[].indexOf.call(i.parentNode.childNodes,i))),e=e.parentNode;var i;return function(){if(e){for(e=t;e&&o.length;){var i=o.pop();e=e.childNodes[i]}if(e){e.focus&&e.focus();try{e.selectionStart=r,e.selectionEnd=n}catch(t){}}}}}(this.rootEl);A.call(this),t(),this.__.renderflag=0}}function O(t){switch(t.nodeName){case"TABLE":return t.childNodes&&t.childNodes[0]||t;default:return t}}function T(t){for(var e=0,r=t.length,n=0;n<r;n++)e=31*e+t.charCodeAt(n),e&=e;return e}y.prototype.unmount=function(){p(this,"umnount");var t=this.__||{};if(e.unobserve(this.state,t.obsf),t.bind)for(var r in t.bind){var n=t.bind[r];n.obsf&&e.unobserve(n.sp.obj,n.obsf)}},y.prototype.react=function(t){t.coral=this;var e,r=this.__,n=t.root,o=this.observers,i=r.events,a=r.proprx=r.proprx||(o?N(o):"")+(i?N(i):"");if(a){var s="(:xs:(("+t.path.replace(/\./g,"\\.)|(\\*\\.))*((")+")|(\\*)))\n",l=new RegExp(s,"g"),c=a.match(l);if(c){for(var u=c[0],d=1;d<c.length;d++)c[d].length>u.length&&(u=c[d]);n=u.substring(4,u.length-1)}}var f,p=o&&o[n];if(p)if(m(p))e=p.call(this,t);else if(!t.path&&("set"===t.action||"add"===t.action)){var h=this.dot(p);m(h.value)?h.value.call(this):h.obj[h.prop]=t.value}if(i&&i[n]){var v=r.name+"."+(!0===i[n]?n:i[n]);B(this.rootEl,v,t)}if(t.value!==t.prev){this.mutate&&(f=this.mutate(this,t));var _=r.decorators;this.sym&&("done"===e||"done"===f||_&&(_[n]||_[u])||this.rerender())}},y.prototype.observe=function(t,e){c(this,"observers")[t]=e,this.__.obsrx=null},y.prototype.decorate=function(t,e){c(this,"decorators")[t]=!1!==e&&0!==e},y.prototype.events=function(t,e){c(this.__,"events")[t]=!1!==e&&0!==e&&e,this.__.evrx=null},y.prototype.watch=function(t,e){this.state[t]=e,this.state.__observe__()},y.prototype.bind=function(t,e,r,n){E(this,t,e,r,n)},y.prototype.emit=function(t,e){B(this.rootEl,t,e)},y.prototype.render_=A,y.prototype.render=function(){e.tick(this.sym+"_rr",this,A)},y.prototype.rerender=function(){this.__.renderflag=(this.__.renderflag||0)+1,e.tick(this.sym+"_rr",this,S,!0)},y.prototype.htmlBegin=function(t){this.__.harr&&!t||(this.__.hmap={},this.__.hgeneration=-1),this.__.harr=[],this.__.harr.html="",this.__.harr.htmlIdx=0,this.__.harr.wmap=new WeakMap,this.__.hgeneration++,this.__.fcounter=0};const C={INPUT:!0,TEXTAREA:!0};function L(t,e){if(!t)return e;if(3===t.nodeType&&3===e.nodeType)return t.nodeValue=e.nodeValue,t;if(t.nodeName!==e.nodeName||!function(t,e){var r,n={},o=e.attributes,i=o.length;C[t.nodeName]&&t.value!==e.value&&(t.value=e.value);for(var a=0;a<i;a++)n[(r=o[a]).name]=!0,t.getAttribute(r.name)!==r.value&&t.setAttribute(r.name,r.value);var s=t.attributes,l=s.length;if(l===i)return!0;for(a=0;a<l;a++)n[(r=s[a]).name]||t.removeAttribute(r.name);return!0}(t,e))return t.parentNode.replaceChild(e,t),e;var r=t.childNodes,n=e.childNodes;if(r.length||n.length){for(var o,i=o=Math.min(r.length,n.length);i<r.length;)t.removeChild(r[o]);for(;i<n.length;)t.appendChild(n[o]);for(;--o>=0;){var a=r[o],s=n[o];3!==a.nodeType||3!==s.nodeType?a.isEqualNode(s)||a.nodeName===s.nodeName&&L(a,s)||t.replaceChild(s,a):a.nodeValue!==s.nodeValue&&(a.nodeValue=s.nodeValue)}}return t}function k(t,e){r.selectNode(t);var n=r.createContextualFragment(e);return"TBODY"===t.nodeName?n.childNodes[0]:n}var R;function M(t){if("object"==typeof t){for(var e in t)switch(typeof t[e]){case"string":case"object":t[e]=t[e]?M(t[e]):t[e]}return t}return(R=R||document.createElement("div")).textContent=t,R.innerHTML}function B(t,e,r){r=r||{},(t=function t(e,r){return"string"!=typeof e?e:t(r||document).querySelector(e)}(t))&&(r.coralEmitRootEl=t),document.dispatchEvent(new CustomEvent(e,{detail:r}))}function P(t){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?t():document.addEventListener("DOMContentLoaded",t)}y.prototype.htmlUpdate=function(t,e,r){var n=this.__.hmap;if(n){var o=T(r);if((e=null==e?o:e)in n||l("updating non-existent element"),n[e].hsh!==o||t!==n[e].idx){var i=O(this.rootEl),a=n[e].el;a.getAttribute?(n[e].el=L(i.childNodes[t],k(i,r).firstChild),n[e].hsh=o,n[e].idx=t):a.nodeValue!==r&&(a.nodeValue=r)}}},y.prototype.htmlEnd=function(){var t=this.__,e=t.hgeneration,r=this.__.fcounter,n=null;if(0===r)return this.htmlBegin(!0),void(this.rootEl.innerHTML="");0===e&&(this.rootEl.innerHTML="");var o=t.harr,i=t.hmap,a="";if(o){for(var s in i){var l=i[s];l.generation!==e&&(l.el&&l.el.parentNode.removeChild(l.el),delete i[s])}var c=O(this.rootEl),u=document.createElement(c.nodeName);o.html&&(u=k(c,o.html),o.html="");for(var d=0,f=0;f<r;f++){var p=(l=o[f]).el,h=l.h;if("number"==typeof h){var v=u.childNodes[l.h-d];(v=L(p,v))!==p&&(l.el=p=v,d++)}else h&&(f>=c.childNodes.length?a+=h:l.el=p=k(c,h).firstChild);l.idx=f,l.h="",p&&(l.el=p,o.wmap.set(p,f),p.parentNode===c&&p.previousSibling===n||(n?c.insertBefore(p,n.nextSibling):c.childNodes&&c.childNodes[0]===p||c.insertBefore(p,c.childNodes&&c.childNodes[0])),n=p)}o.length=r;var _=c.childNodes.length;for(a&&c.insertAdjacentHTML("beforeend",a),(c=O(this.rootEl))&&o.length!==c.childNodes.length&&console.error("inconsistent count - must be 1 html() entity for hmtl()"),f=_;f<o.length;f++)o[f].el=c.childNodes[f],o.wmap.set(o[f].el,f);return"done"}},y.prototype.htmlFromIdx=function(t){return O(this.rootEl).childNodes[t]},y.prototype.htmlChild=function(t){for(;t.parentNode!==this.rootEl;)t=t.parentNode;return t},y.prototype.htmlToIdx=function(t){for(;t.parentNode!==this.rootEl;)t=t.parentNode;var e=this.__.harr.wmap.get(t);return void 0===e?-1:e},y.prototype.html=function(t,e){this.__.harr||this.htmlBegin();var r,n=this.__,o=n.harr,i=n.hmap,a=n.fcounter++,s=n.hgeneration,c=T(e);if(i[t=null==t?c:t]){if((r=i[t]).generation===s&&l("duplicate html() id"),r.generation=s,o[a]=r,r.el&&!r.el.parentNode&&(r.el=null),r.el&&r.hsh===c)return;r.h=o.htmlIdx++,o.html+=e,r.hsh=c}else r={h:e,hsh:c,idx:a,id:t,generation:s,el:null},o.splice(a,0,r),i[t]=r},y.prototype.dot=function(t,r){var n=e.dot(this,t);if(arguments.length>1){if(!n.obj)throw Error("chain path missing");n.obj[n.prop]=r}return n},y.prototype.styleBag=function(t,e){var r=t instanceof Node?t:this.rootEl;r===this.rootEl&&(e=t);var n=T(JSON.stringify(e));if(r.__xs__style!==n){for(var o in e)r.style[o]=e[o];r.__xs__style=n}},t.autorun&&P((function(){u()})),t.use=t.use||y;var H=document.currentScript?function(t,e){return new Function(t,"return `"+e+"`;")}:function(t,e){return e=e.split("\n").join("\\\n").replace(/"/g,'\\"'),new Function(t,'var f=function (_, exp) {return eval(exp)}; f.bind(this); return "'+e+'".replace(/\\${(.*?)}/g, f)')};return{register:function(t,r,n){var o="*"===t[0]?t.substring(1):t;if(n=n||"",r.state=g(r.state,void 0),!a[o])return a[n]||l("Super Coral NOT registered: "+n),a[o]=e.assign({},a[n],r),a[o].name=o,a[o].super=n,!0;t===o&&l("UI already registered: "+o)},mount:v,run:u,template:H,ready:P,emit:B,sanitize:M,styleBag:y.prototype.styleBag,registry:function(t){return t?a[t]:a},find:function(t,e){return(t=this.findAll(t,e))?t[0]:null},findAll:function(t,e){var r=0;if(t=[].slice.call((e||document).querySelectorAll(t)))for(var n=0;n<t.length;n++)t[r]=t[n].coral,r+=t[r]?1:0;return r?(t.length=r,t):null}}}({autorun:!0}),(r=window.coral=window.coral||{}).ui=r.ui||{},r.ui.loadScript=function(t,e){if(document.querySelector('script[url="'+t+'"]'))e&&e();else{var r=document.createElement("script");r.src=t,r.setAttribute("url",t),r.onload=e,document.getElementsByTagName("head")[0].appendChild(r)}},r.ui.clientSideInclude=function(t){var e;(e=t)&&e.constructor&&e.call&&e.apply&&(t=t.toString().split("\n").slice(1,-1).join("\n"));var r=document.currentScript||window.rf_script;r||(r=(r=document.getElementsByTagName("script"))[r.length-1]),window.rf_script&&(window.rf_script=null);var n=r.coralCB;void 0===n?r.outerHTML=t:n(t),r.parentNode&&r.parentNode.removeChild(r)}},,function(t,e,r){r(0),t.exports=r(1)}]);
//# sourceMappingURL=coral-ui-min.js.map