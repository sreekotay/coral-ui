{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./public/coral/src/coral-observe.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","objectObserver","obj","handler","ctxobj","path","Node","this","__xs__","sendAdd","concat","push","attach","_obj","values","skip","v","trigger","propertyObserver","Array","isArray","arr","arrhelpers","mbind","method","privateprop","_o","pause","apply","arguments","tick","length","arrayObserver","__observe__","undefined","pv","set","configurable","__gidcounter","h","__gobt","__ghsymbol","rootobj","f","a","b","dotpath","bs","reduce","root","handlerMerge","chainfind","prop","uc","chain","action","ha","upd","prev","find","dotapply","constructor","doterror","console","error","ppath","split","dot","k","last","deepcopy","bt","toString","writable","array","arrayApply","arrayKeysApply","keys","keysApply","keysFromArray","arrOfKeys","aok","__gob","resolveTick","gob","g","_s","setTimeout","xs","window","coral","observe","unobserve","objectUnobserver","splice","alias","obsobj","obsp","refobj","refp","listener","reflect","updates","__observer__","objpd","getOwnPropertyDescriptor","refpd","gf","sf","assign","al"],"mappings":"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","file":"coral-observe-min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n",";(function () {\r\n  // ===================================\r\n  // observer\r\n  // ===================================\r\n  function objectObserver (obj, handler, ctxobj, path) {\r\n    if (obj instanceof Node) return\r\n    if (!obj && this.__xs__) obj = this // called via obj.__observe__()\r\n    if (!obj) return\r\n    var sendAdd = !!obj.__xs__\r\n\r\n    // only one watcher\r\n    if (ctxobj) {\r\n      path = (path && path.concat()) || []\r\n      path.push(ctxobj)\r\n    }\r\n    handler = attach(handler, obj, path)\r\n\r\n    // do the work\r\n    var _obj = values(obj)\r\n    if (_obj.skip) return\r\n    var v = _obj.v\r\n    for (var p in v) {\r\n      if (p in obj) continue\r\n      delete v[p]\r\n      trigger('delete', obj, p, null, null)\r\n    }\r\n    for (p in obj) {\r\n      if (sendAdd && !(p in v)) trigger('add', obj, p, obj[p], null)\r\n      propertyObserver(obj, p, handler, path)\r\n    }\r\n\r\n    if (Array.isArray(obj)) arrayObserver(obj, handler)\r\n    if (!obj.__observe__ && path === undefined && ctxobj === undefined) privateprop(obj, '__observe__', objectObserver)\r\n    return obj\r\n  }\r\n\r\n  function arrayObserver (arr, handler) {\r\n    if (arr.__xs__.arrhelpers) return\r\n    arr.__xs__.arrhelpers = true\r\n    var mbind = function (method) {\r\n      var mf = function () {\r\n        var o = this; var _o = o.__xs__\r\n        _o.pause = true; var n = Array.prototype[method].apply(o, arguments); _o.pause = false\r\n        tick(_o.s, o, function () { objectObserver(o) })\r\n        trigger(method, o, arguments, o, null)\r\n        return n\r\n      }\r\n      privateprop(arr, method, mf)\r\n    }\r\n    var m = ['pop', 'push', 'shift', 'unshift', 'splice', 'reverse', 'sort']\r\n    for (var i = 0; i < m.length; i++) mbind(m[i])\r\n  }\r\n\r\n  function propertyObserver (obj, p, handler, path) {\r\n    var _obj = values(obj)\r\n    var v = _obj.v\r\n    if (handler !== obj) handler = attach(handler, obj)\r\n    var pv = obj[p]\r\n    if (!(p in v)) { // already done\r\n      v[p] = pv\r\n      var gf = function () { return v[p] }\r\n      var sf = function (n) {\r\n        var o = v[p]; v[p] = n\r\n        if (typeof (n) === 'object' && n !== null && !n.__xs__) { tick(_obj.s, obj, function () { objectObserver(n, handler, { o: obj, p: p }, path) }, true) }\r\n        trigger('set', obj, p, n, o)\r\n        return n\r\n      }\r\n      Object.defineProperty(obj, p, { get: gf, set: sf, enumerable: true, configurable: true })\r\n    }\r\n    if (typeof (pv) === 'object') objectObserver(pv, handler, { o: obj, p: p }, path)\r\n  }\r\n\r\n  function objectUnobserver (obj, handler) {\r\n    if (!obj.__xs__) return\r\n    var h = obj.__xs__.h\r\n    for (var i = h.length - 1; i >= 0; i--) {\r\n      var ha = h[i]\r\n      if (ha.f === handler) {\r\n        h.splice(i, 1)\r\n      }\r\n    }\r\n    for (var p in obj) if (typeof (p) === 'object' && p !== null) objectUnobserver(p[obj], handler)\r\n  }\r\n\r\n  // ===================================\r\n  // internals\r\n  // ===================================\r\n  var __gidcounter = 0\r\n  function values (obj) {\r\n    if (!obj.__xs__) {\r\n      var _w = {\r\n        s: '@' + __gidcounter++,\r\n        v: {}, // values for the object\r\n        h: [] // handlers // but don't allocate them if not needed\r\n        /* p: {}, // array of property symbols */\r\n      }\r\n      privateprop(obj, '__xs__', _w)\r\n    }\r\n    return obj.__xs__\r\n  }\r\n\r\n  var __ghsymbol = 0\r\n  function attach (handler, obj, path) {\r\n    if (handler === obj || !handler) return obj\r\n    if (typeof (handler) === 'object') handler = values(handler).h\r\n    else handler = [{ rootobj: obj, f: handler, path: path, s: '#' + __ghsymbol++ }]\r\n\r\n    handlerMerge(values(obj).h, handler, path)\r\n    return obj\r\n  }\r\n\r\n  function handlerMerge (a, b, path) { // modifies original array\r\n    if (a === b) return\r\n    var dotpath = path ? undefined : ''\r\n    for (var i = 0; i < b.length; i++) {\r\n      var bs = b[i].s\r\n      if (!a[bs]) {\r\n        if (dotpath === undefined) dotpath = path.reduce(function (p, n) { return p + (p && '.') + n.p }, '')\r\n        a[bs] = true\r\n        a.push({ f: b[i].f, s: b[i].s, path: path, dotpath: dotpath, root: path ? path[0].p : undefined })\r\n      }\r\n    }\r\n  }\r\n\r\n  // ===================================\r\n  // notification\r\n  // ===================================\r\n  function chainfind (obj) { // for events\r\n    if (obj === this.obj) return this.prop\r\n    var uc = this.chain\r\n    for (var i = 0; i < uc.length; i++) if (uc[i].o === obj) return uc[i].p\r\n    return null\r\n  }\r\n\r\n  function trigger (action, obj, p, n, o) {\r\n    var _obj = obj.__xs__\r\n    if (!_obj || !_obj.h || _obj.pause) return\r\n    var h = _obj.h\r\n    for (var i = 0; i < h.length; i++) {\r\n      var ha = h[i]\r\n      var upd = {\r\n        rootobj: ha.rootobj,\r\n        obj: obj,\r\n        action: action,\r\n        prop: p,\r\n        value: n,\r\n        prev: o,\r\n        chain: ha.path,\r\n        root: ha.root || p,\r\n        dotpath: ha.dotpath || '',\r\n        path: ha.dotpath ? ha.dotpath + '.' + p : p,\r\n        find: chainfind\r\n      }\r\n      ha.f.call(obj, upd)\r\n    }\r\n  }\r\n\r\n  // ===================================\r\n  // alias\r\n  // ===================================\r\n  function alias (obsobj, obsp, refobj, refp, listener) {\r\n    if (obsobj === refobj && obsp === refp) return null\r\n    var reflect = function (updates) {\r\n      if (updates.chain && updates.chain.length && updates.chain[0].p === refp) {\r\n        if (updates.chain.length === 1 && obsobj[obsp] !== updates.obj) obsobj[obsp] = updates.obj\r\n        updates.chain[0].p = obsp // alias it\r\n        listener(updates)\r\n        updates.chain[0].p = refp // set it back\r\n      } else if (!updates.chain && updates.prop === refp) {\r\n        if (updates.value !== obsobj[obsp]) { obsobj[obsp] = updates.value }\r\n        updates.prop = updates.path = updates.root = obsp // alias it\r\n        listener(updates)\r\n        updates.prop = updates.path = updates.root = refp\r\n      }\r\n    }\r\n    if (refobj instanceof Node) {\r\n      // if (!(obsp in obsobj))\r\n      obsobj[obsp] = refobj[refp] // \"realize\" it\r\n      if (!obsobj.__observer__) xs.observe(obsobj)\r\n      var objpd = Object.getOwnPropertyDescriptor(obsobj, obsp)\r\n      /*\r\n      switch (refp) {\r\n        case 'value': {\r\n          refobj.addEventListener ('input', function() {\r\n            console.log(refobj[refp])\r\n            obsobj[obsp] = refobj[refp]\r\n          })\r\n        }\r\n      }\r\n*/\r\n      Object.defineProperty(obsobj, obsp, {\r\n        get: function () { return refobj[refp] },\r\n        set: function (v) { refobj[refp] = v; return objpd.set(v) },\r\n        enumerable: true,\r\n        configurable: true })\r\n      return null\r\n    }\r\n    if (!(refp in refobj)) refobj[refp] = refobj[refp] // \"realize\" it\r\n    xs.observe(refobj, reflect)\r\n    obsobj[obsp] = refobj[refp] // copy the initial\r\n    xs.observe(obsobj)\r\n\r\n    // below makes it two way\r\n    var refpd = Object.getOwnPropertyDescriptor(refobj, refp)\r\n    var gf = refpd.get\r\n    var sf = refpd.set\r\n    Object.defineProperty(obsobj, obsp, { get: gf, set: sf, enumerable: true, configurable: true })\r\n\r\n    return reflect\r\n  }\r\n\r\n  // ==============\r\n  // helper stuff\r\n  // ==============\r\n  function isfunction (obj) { return !!(obj && obj.constructor && obj.call && obj.apply) }\r\n  function dotapply (value) { var v = this.obj[this.prop]; isfunction(v) ? v.apply(this.obj, Array.isArray(value) ? value : [value]) : this.obj[this.prop] = value }\r\n  function doterror (value) { console.error('property not found', this, value) }\r\n  function ppath (p) { if (typeof (p) === 'string') p = p.split('.'); return p }\r\n  function dot (obj, path) {\r\n    path = ppath(path)\r\n    var l = path.length\r\n    for (var i = 0; i < l; i++) {\r\n      var k = path[i]; var o = obj; obj = o[k]\r\n      if ((!obj || typeof (obj) !== 'object') && ((i + 1 < l) || (!(k in o)))) return { last: { obj: o, prop: k }, apply: doterror }\r\n    }\r\n    return { value: obj, obj: o, prop: k, apply: dotapply }\r\n  }\r\n  dot.array = function (arr, path) { path = ppath(path); var v = []; for (var i = 0; i < arr.length; i++) v.push(dot(arr[i], path)); return v }\r\n  dot.arrayApply = function (arr, path, value) { path = ppath(path); for (var i = 0; i < arr.length; i++) dot(arr[i], path).apply(value) }\r\n  dot.arrayKeysApply = function (arr, keys) { for (var i = 0; i < arr.length; i++) dot.keysApply(arr[i], keys) }\r\n  dot.keysApply = function (obj, keys) { for (var k in keys) dot(obj, k).apply(keys[k]) }\r\n  dot.keysFromArray = function (obj, arrOfKeys) { var o = {}; var aok = arrOfKeys; for (var k in aok) o[aok[k]] = dot(obj, aok[k]); return o }\r\n\r\n  function deepcopy (a, b) {\r\n    if (b === undefined) return a\r\n    if (typeof (b) !== 'object' || b === null) return b\r\n    var bt = Object.prototype.toString.call(b)\r\n    if (bt === '[object RegExp]' || bt === '[object Date]' || b instanceof Node) return b\r\n    if (bt === '[object Array]') {\r\n      if (Object.prototype.toString.call(a) !== '[object Array]') a = [] // should we FORCE to array?\r\n      var c = []\r\n      for (var i in b) { if (!(i in a)) c[i] = b[i] }\r\n      for (i in c) a[i] = c[i]\r\n      return a\r\n    }\r\n    if (typeof (a) !== 'object') a = {}\r\n    for (var k in b) a[k] = deepcopy(a[k], b[k])\r\n    return a\r\n  }\r\n  // function objclone () { var a = arguments; var al = -1; var o = {}; while (++al < a.length) o = objmerge(o, a[al]); return o }\r\n  function objassign () { var a = arguments; var al = 0; var o = a[0]; while (++al < a.length) o = deepcopy(o, a[al]); return o }\r\n  function privateprop (o, k, v, writable) { Object.defineProperty(o, k, { value: v, enumerable: false, configurable: true, writable: !!writable }); return v }\r\n\r\n  var __gobt; var __gob = { '@': {} }\r\n  function resolveTick () {\r\n    __gobt = null; var gob = __gob; __gob = { '@': {} }\r\n    var g = gob['@']; gob['@'] = null\r\n    for (var k in g) { if (g[k]) g[k].f.call(g[k].o, g[k].o) }\r\n    for (k in gob) { if (gob[k]) gob[k].f.call(gob[k].o, gob[k].o) }\r\n  }\r\n  function tick (_s, o, f) {\r\n    var g = (_s[0] === '@') ? __gob['@'] : __gob\r\n    g[_s] = { f: f, o: o }\r\n    if (!__gobt) __gobt = setTimeout(resolveTick, 0)\r\n  }\r\n  /*\r\n  function tick (_s, o, f, delay) {\r\n    // delay = true\r\n    // f.call(o, o); return true;\r\n    var g\r\n    if (_s[0] === '@') g = __gob['@']; else g = __gob\r\n    if (__gobt) {\r\n      if (!(_s in g) && !delay) {\r\n        f.call(o, o)\r\n        g[_s] = null\r\n      } else g[_s] = { f: f, o: o }\r\n      return false\r\n    }\r\n    if (!delay) f.call(o, o)\r\n    else g[_s] = { f: f, o: o }\r\n    __gobt = setTimeout(resolveTick, 0)\r\n    return true\r\n  }\r\n  */\r\n\r\n  // export\r\n  var xs = window.coral = window.coral || {}\r\n  xs.observe = objectObserver\r\n  xs.unobserve = objectUnobserver\r\n  xs.alias = alias\r\n  xs.assign = objassign\r\n  xs.tick = tick\r\n  xs.dot = dot\r\n  xs.privateprop = privateprop\r\n}).call(this)\r\n"],"sourceRoot":""}