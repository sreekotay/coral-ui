{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./public/reefer/src/xs-observe.js","webpack:///./public/reefer/src/reefer.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","deepObserver","obj","handler","ctxobj","path","Node","this","__xs__","sendAdd","concat","push","attach","_obj","values","skip","v","trigger","propertyObserver","Array","isArray","arr","arrhelpers","mbind","method","privateprop","_o","pause","apply","arguments","tick","length","arrayObserverHelper","__observe__","undefined","pv","set","configurable","__gidcounter","h","__gobt","__ghsymbol","rootobj","f","a","b","dotpath","bs","reduce","root","handlerMerge","chainfind","prop","uc","chain","action","ha","upd","prev","find","objmerge","obtype","toString","k","writable","__gob","resolveTick","gob","g","_s","delay","setTimeout","xs","window","observe","unobserve","deepUnobserver","splice","alias","obsobj","obsp","refobj","refp","listener","reflect","updates","__observer__","objpd","getOwnPropertyDescriptor","refpd","gf","sf","assign","al","clone","coral","ui","clientSideInclude","data","constructor","split","slice","join","dsc","document","currentScript","rf_script","getElementsByTagName","cb","reefCB","outerHTML","parentNode","removeChild","reefer","opts","rf_range","createRange","rf_counter","rf_listeners","rf_key","rf_registry","template","_d","slots","slot","dataslot","datasrc","uk","dc","dot","datactx","dl","gk","genkey","gen","empty","text","datakey","header","html","script","hm","__","hmap","__hmap__","__key__","row","footer","reefWarn","console","error","reefError","Error","alwaysobj","rf","run","arg","rels","querySelectorAll","reef","rr","reeferDOM","publishLF","render_","parseScript","attrBag","type","getAttribute","args","match","ftext","innerHTML","trim","props","Function","reefScript","templateEngine","JSON","parse","err","el","parentReef","reefName","attrlist","attributes","attr","indexOf","val","spl","ev","substring","determineDataBinding","lis","getAttributes","cloneEl","cloneNode","children","ga","nodeName","sa","mount","lf","lifecycle","selector","localData","defaultData","use","setAttribute","listeners","rl","e","listenerFactory","addEventListener","reefStop","event","argsets","detail","reefEmitRootEl","target","evattr","handlers","evvalue","stop","fn","idx","rval","isfunction","rn","arrtoobj","cif","o1","o2","Reefer","rootEl","setup","localSetup","_","shared","events","decorators","super","sh","methods","obsf","react","doDataBind","sym","regexprep","loadData","datapath","url","xhr","XMLHttpRequest","onerror","log","emit","onload","status","res","response","sanitize","open","send","loadHTML","readyState","createElement","src","appendChild","write","realizeSource","copyprop","pp","sp","fp","oc","nc","proppath","sel","selctx","_b","_bp","count","findParentReef","querySelector","els","str","fname","replace","jsonp","dp","u","getRootNode","unmount","unobs","render","Date","rel","fc","fcounter","htmlBegin","harr","htmlEnd","forEach","classList","contains","rerender","renderflag","ael","activeElement","startPosition","selectionStart","endPosition","selectionEnd","aeindex","node","childNodes","ind","pop","focus","saveSelection","getAttachPoint","hash","len","charCodeAt","_obs","observers","_ev","rx","proprx","regx","RegExp","mp","mstatus","op","mutate","obsrx","decorate","evrx","watch","copyk","ctx","forceClean","hgeneration","htmlIdx","wmap","WeakMap","rf_tagvalue","mergeNode","nodeType","nodeValue","at","na","nal","ca","cal","removeAttribute","copyAttributes","replaceChild","cc","il","Math","min","ccn","ncn","isEqualNode","hydrate","selectNode","createContextualFragment","last","rf_s","textContent","resolveEl","dispatchEvent","CustomEvent","ready","documentElement","doScroll","htmlUpdate","id","htmlGen","hsh","firstChild","genid","hta","fl","hc","generation","div","cnt","previousSibling","insertBefore","nextSibling","rcl","insertAdjacentHTML","htmlFromIdx","htmlChild","htmlToIdx","styleBag","stringify","__xs__style","style","autorun","templateString","register","inname","reefData","superReef","registry","findAll","j","ReeferFactory"],"mappings":"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","file":"reefer-min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n",";(function () {\r\n  // ===================================\r\n  // observer\r\n  // ===================================\r\n  function deepObserver (obj, handler, ctxobj, path) {\r\n    if (obj instanceof Node) return\r\n    if (!obj && this.__xs__) obj = this // called via obj.__observe__()\r\n    if (!obj) return\r\n    var sendAdd = !!obj.__xs__\r\n\r\n    // only one watcher\r\n    if (ctxobj) {\r\n      path = (path && path.concat()) || []\r\n      path.push(ctxobj)\r\n    }\r\n    handler = attach(handler, obj, path)\r\n\r\n    // do the work\r\n    var _obj = values(obj)\r\n    if (_obj.skip) return\r\n    var v = _obj.v\r\n    for (var p in v) {\r\n      if (p in obj) continue\r\n      delete v[p]\r\n      trigger('delete', obj, p, null, null)\r\n    }\r\n    for (p in obj) {\r\n      if (sendAdd && !(p in v)) trigger('add', obj, p, obj[p], null)\r\n      propertyObserver(obj, p, handler, path)\r\n    }\r\n\r\n    if (Array.isArray(obj)) arrayObserverHelper(obj, handler)\r\n    if (!obj.__observe__ && path === undefined && ctxobj === undefined) privateprop(obj, '__observe__', deepObserver)\r\n    return obj\r\n  }\r\n\r\n  function arrayObserverHelper (arr, handler) {\r\n    if (arr.__xs__.arrhelpers) return\r\n    arr.__xs__.arrhelpers = true\r\n    var mbind = function (method) {\r\n      var mf = function () {\r\n        var o = this; var _o = o.__xs__\r\n        _o.pause = true; var n = Array.prototype[method].apply(o, arguments); _o.pause = false\r\n        tick(_o.s, o, function () {\r\n          // _o.pause = true\r\n          deepObserver(o)\r\n          // _o.pause = false\r\n        })\r\n        trigger(method, o, arguments, o, null)\r\n        return n\r\n      }\r\n      privateprop(arr, method, mf)\r\n    }\r\n    var m = ['pop', 'push', 'shift', 'unshift', 'splice', 'reverse', 'sort']\r\n    for (var i = 0; i < m.length; i++) mbind(m[i])\r\n  }\r\n\r\n  function propertyObserver (obj, p, handler, path) {\r\n    var _obj = values(obj)\r\n    var v = _obj.v\r\n    if (handler !== obj) handler = attach(handler, obj)\r\n    var pv = obj[p]\r\n    if (!(p in v)) { // already done\r\n      v[p] = pv\r\n      var gf = function () { return v[p] }\r\n      var sf = function (n) {\r\n        var o = v[p]; v[p] = n\r\n        if (typeof (n) === 'object' && n !== null && !n.__xs__) {\r\n          // deepObserver(n, handler, { o: obj, p: p }, path)\r\n          tick(_obj.s, obj, function () { deepObserver(n, handler, { o: obj, p: p }, path) }, true)\r\n        }\r\n        trigger('set', obj, p, n, o)\r\n        return n\r\n      }\r\n      Object.defineProperty(obj, p, { get: gf, set: sf, enumerable: true, configurable: true })\r\n    }\r\n    if (typeof (pv) === 'object') deepObserver(pv, handler, { o: obj, p: p }, path)\r\n  }\r\n\r\n  function deepUnobserver (obj, handler) {\r\n    if (!obj.__xs__) return\r\n    var h = obj.__xs__.h\r\n    for (var i = h.length - 1; i >= 0; i--) {\r\n      var ha = h[i]\r\n      if (ha.f === handler) {\r\n        h.splice(i, 1)\r\n      }\r\n    }\r\n    for (var p in obj) if (typeof (p) === 'object' && p !== null) deepUnobserver(p[obj], handler)\r\n  }\r\n\r\n  // ===================================\r\n  // internals\r\n  // ===================================\r\n  var __gidcounter = 0\r\n  function values (obj) {\r\n    if (!obj.__xs__) {\r\n      var _w = {\r\n        s: '@' + __gidcounter++,\r\n        v: {}, // values for the object\r\n        h: [] // handlers // but don't allocate them if not needed\r\n        /* p: {}, // array of property symbols */\r\n      }\r\n      privateprop(obj, '__xs__', _w)\r\n    }\r\n    return obj.__xs__\r\n  }\r\n\r\n  var __ghsymbol = 0\r\n  function attach (handler, obj, path) {\r\n    if (handler === obj || !handler) return obj\r\n    if (typeof (handler) === 'object') handler = values(handler).h\r\n    else handler = [{ rootobj: obj, f: handler, path: path, s: '#' + __ghsymbol++ }]\r\n\r\n    var _obj = values(obj)\r\n    // var h = _obj.h = _obj.h || []\r\n    handlerMerge(_obj.h, handler, path)\r\n    return obj\r\n  }\r\n\r\n  function handlerMerge (a, b, path) { // modifies original array\r\n    if (a === b) return\r\n    var dotpath = path ? undefined : ''\r\n    for (var i = 0; i < b.length; i++) {\r\n      var bs = b[i].s\r\n      if (!a[bs]) {\r\n        if (dotpath === undefined) dotpath = path.reduce(function (p, n) { return p + (p && '.') + n.p }, '')\r\n        a[bs] = true\r\n        a.push({ f: b[i].f, s: b[i].s, path: path, dotpath: dotpath, root: path ? path[0].p : undefined })\r\n      }\r\n    }\r\n  }\r\n\r\n  // ===================================\r\n  // notification\r\n  // ===================================\r\n  function chainfind (obj) { // for events\r\n    if (obj === this.obj) return this.prop\r\n    var uc = this.chain\r\n    for (var i = 0; i < uc.length; i++) if (uc[i].o === obj) return uc[i].p\r\n    return null\r\n  }\r\n\r\n  function trigger (action, obj, p, n, o) {\r\n    var _obj = obj.__xs__\r\n    if (/* n === o || */!_obj || !_obj.h || _obj.pause) return // don't send event if value the same\r\n    var h = _obj.h\r\n    for (var i = 0; i < h.length; i++) {\r\n      var ha = h[i]\r\n      var upd = { rootobj: ha.rootobj, obj: obj, action: action, prop: p, value: n, prev: o, chain: ha.path, root: ha.root || p, path: ha.dotpath ? ha.dotpath + '.' + p : p, find: chainfind }\r\n      ha.f.call(obj, upd)\r\n    }\r\n  }\r\n\r\n  // ===================================\r\n  // alias\r\n  // ===================================\r\n  function alias (obsobj, obsp, refobj, refp, listener) {\r\n    if (obsobj === refobj && obsp === refp) return null\r\n    var reflect = function (updates) {\r\n      if (updates.chain && updates.chain.length && updates.chain[0].p === refp) {\r\n        if (updates.chain.length === 1 && obsobj[obsp] !== updates.obj) obsobj[obsp] = updates.obj\r\n        updates.chain[0].p = obsp // alias it\r\n        listener(updates)\r\n        updates.chain[0].p = refp // set it back\r\n      } else if (!updates.chain && updates.prop === refp) {\r\n        if (updates.value !== obsobj[obsp]) { obsobj[obsp] = updates.value }\r\n        updates.prop = updates.path = updates.root = obsp // alias it\r\n        listener(updates)\r\n        updates.prop = updates.path = updates.root = refp\r\n      }\r\n    }\r\n    if (refobj instanceof Node) {\r\n      //if (!(obsp in obsobj)) \r\n      obsobj[obsp] = refobj[refp] // \"realize\" it\r\n      if (!obsobj.__observer__) xs.observe(obsobj)\r\n      var objpd = Object.getOwnPropertyDescriptor(obsobj, obsp)\r\n/*\r\n      switch (refp) {\r\n        case 'value': {\r\n          refobj.addEventListener ('input', function() {\r\n            console.log(refobj[refp])\r\n            obsobj[obsp] = refobj[refp]\r\n          })\r\n        }\r\n      }\r\n*/\r\n      Object.defineProperty(obsobj, obsp, {\r\n        get: function () { return refobj[refp] },\r\n        set: function (v) { refobj[refp] = v; return objpd.set(v) },\r\n        enumerable: true,\r\n        configurable: true })\r\n      return null\r\n    }\r\n    if (!(refp in refobj)) refobj[refp] = refobj[refp] // \"realize\" it\r\n    xs.observe(refobj, reflect)\r\n    obsobj[obsp] = refobj[refp] // copy the initial\r\n    xs.observe(obsobj)\r\n\r\n    // below makes it two way\r\n    var refpd = Object.getOwnPropertyDescriptor(refobj, refp)\r\n    var gf = refpd.get\r\n    var sf = refpd.set\r\n    Object.defineProperty(obsobj, obsp, { get: gf, set: sf, enumerable: true, configurable: true })\r\n\r\n    return reflect\r\n  }\r\n\r\n  // ==============\r\n  // helper stuff\r\n  // ==============\r\n  function objmerge (a, b) {\r\n    if (b === undefined) return a\r\n    if (typeof (b) !== 'object' || b === null) return b\r\n    var obtype = Object.prototype.toString.call(b)\r\n    if (obtype === '[object RegExp]' || obtype === '[object Date]' || b instanceof Node) return b\r\n    if (obtype === '[object Array]') {\r\n      if (Object.prototype.toString.call(a) !== '[object Array]') a = [] // should we FORCE to array?\r\n      var c = []\r\n      for (var i in b) { if (!(i in a)) c[i] = b[i] }\r\n      for (i in c) a[i] = c[i]\r\n      return a\r\n    }\r\n    if (typeof (a) !== 'object') a = {}\r\n    for (var k in b) a[k] = objmerge(a[k], b[k])\r\n    return a\r\n  }\r\n  function objassign () { var a = arguments; var al = 0; var o = a[0]; while (++al < a.length) o = objmerge(o, a[al]); return o }\r\n  function objclone () { var a = arguments; var al = -1; var o = {}; while (++al < a.length) o = objmerge(o, a[al]); return o }\r\n  function privateprop (o, k, v, writable) { Object.defineProperty(o, k, { value: v, enumerable: false, configurable: true, writable: !!writable }); return v }\r\n\r\n  var __gobt; var __gob = { '@': {} }\r\n  function resolveTick () {\r\n    __gobt = null; var gob = __gob; __gob = { '@': {} }\r\n    var g = gob['@']; gob['@'] = null\r\n    for (var k in g) { if (g[k]) g[k].f.call(g[k].o, g[k].o) }\r\n    for (k in gob) { if (gob[k]) gob[k].f.call(gob[k].o, gob[k].o) }\r\n  }\r\n  function tick (_s, o, f, delay) {\r\n    // delay = true\r\n    // f.call(o, o); return true;\r\n    var g\r\n    if (_s[0] === '@') g = __gob['@']; else g = __gob\r\n    if (__gobt) {\r\n      if (!(_s in g) && !delay) {\r\n        f.call(o, o)\r\n        g[_s] = null\r\n      } else g[_s] = { f: f, o: o }\r\n      return false\r\n    }\r\n    if (!delay) f.call(o, o)\r\n    else g[_s] = { f: f, o: o }\r\n    __gobt = setTimeout(resolveTick, 0)\r\n    return true\r\n  }\r\n\r\n  // export\r\n  var xs = window.xs = window.xs || {}\r\n  xs.observe = deepObserver\r\n  xs.unobserve = deepUnobserver\r\n  xs.alias = alias\r\n  xs.assign = objassign\r\n  xs.clone = objclone\r\n  xs.tick = tick\r\n  xs.privateprop = privateprop\r\n}).call(this)\r\n","// ============================================\r\n// reeferHTML ()\r\n// ============================================\r\n;(function () {\r\n  var coral = window.coral = window.coral || {}; coral.ui = coral.ui || {}\r\n  coral.ui.clientSideInclude = function (data) {\r\n    function isfunction (obj) { return !!(obj && obj.constructor && obj.call && obj.apply) }\r\n    if (isfunction(data)) data = data.toString().split('\\n').slice(1, -1).join('\\n')\r\n    var dsc = document.currentScript || window.rf_script\r\n    if (!dsc) { // IE11 support\r\n      dsc = document.getElementsByTagName('script')\r\n      dsc = dsc[dsc.length - 1]\r\n    }\r\n    if (window.rf_script) window.rf_script = null\r\n    var cb = dsc.reefCB\r\n    if (cb === undefined) dsc.outerHTML = data\r\n    else cb(data)\r\n    if (dsc.parentNode) dsc.parentNode.removeChild(dsc)\r\n  }\r\n})()\r\n\r\n// ============================================\r\n// ReeferFactory\r\n// ============================================\r\nfunction ReeferFactory (opts) {\r\n  opts = opts || {}\r\n  var xs = window.xs\r\n  var rf_range = document.createRange()\r\n  var rf_counter = 0 // used for 'symbol'\r\n  var rf_listeners = {}\r\n  var rf_key = 0\r\n  const rf_registry = {\r\n    '': {\r\n      template: function () {\r\n        var _d = this.data\r\n        var slots = this.slots || {}\r\n        var slot = slots[_d.dataslot || 'default']\r\n        if (!slot) return 'done'\r\n        if (!this.data.datasrc) return 'done'\r\n        var dc = ('datactx' in _d) ? this.dot(_d.datactx).value : {}\r\n        var dl = ('datasrc' in _d) ? this.dot(_d.datasrc).value : this\r\n        var gk = this.data.genkey\r\n        var gen = (dl && slot) || (slots.empty && slots.empty.text) || { text: '<div> </div>' }\r\n        var key = _d.datakey; var uk\r\n        if (!Array.isArray(dl)) dl = [dl]\r\n        if (slots.header) this.html(-1, slots.header.script ? slots.header(dc) : slots.header.text)\r\n        var hm = this.__.hmap || {}\r\n        dc.__hmap__ = hm\r\n        for (var i = 0; i < dl.length; i++) {\r\n          var t = typeof (dl[i])\r\n          if (dl[i]) uk = key === undefined ? dl[i].__key__ : dl[i][key]\r\n          if (gk && uk === undefined && t === 'object') uk = xs.privateprop(dl[i], '__key__', 'k' + rf_key++)\r\n          var row = gen.script ? gen.script(dl[i], i, dc) : gen.text\r\n          //          var row = gen.script ? gen.script.call(this, dl[i], i, dc) : this.htag('div').c([this.hdata(' ')])//gen.text\r\n          this.html(uk || i, row)\r\n        }\r\n        delete dc.__hmap__\r\n        if (slots.footer) this.html(-2, slots.footer.script ? slots.footer(dc) : slots.footer.text)\r\n      }\r\n    }\r\n  }\r\n\r\n  function reefWarn () { console.error(arguments) }\r\n  function reefError () { console.error(arguments); throw Error('REEF FAULT') }\r\n  function alwaysobj (rf, n) { rf[n] = rf[n] || {}; return rf[n] }\r\n\r\n  // ============================================\r\n  // dom\r\n  // ============================================\r\n  function run (arg) {\r\n    var d = (arg || document)\r\n    var r = []\r\n    var rels = d.querySelectorAll(':not([reef-stage])[reef]')\r\n    for (var i = 0; i < rels.length; i++) {\r\n      if (!rels[i].reef) {\r\n        var rr = reeferDOM(rels[i], d.reef)\r\n        publishLF(rr, 'mount')\r\n        if (rr) rr.render_()\r\n        r.push(rr)\r\n      }\r\n    }\r\n    return r\r\n  }\r\n\r\n  function parseScript (attrBag, c) {\r\n    try {\r\n      var type = c.getAttribute('type')\r\n      var args = type.match(/\\(([^)]*)\\)/); args = args ? args[1] : ''\r\n      var ftext = c.innerHTML.trim()\r\n      var props = attrBag.props = attrBag.props || {}\r\n\r\n      if (ftext) {\r\n        switch (type.split('(')[0].trim()) {\r\n          case 'reef-method': alwaysobj(attrBag, 'methods')[c.getAttribute('name') || 'default'] = new Function(args, ftext); break\r\n          case 'reef-observer': alwaysobj(attrBag, 'observers')[c.getAttribute('name') || 'default'] = new Function(args, ftext); break\r\n          case 'reef-function': c.reefScript = new Function(args, ftext); break\r\n          case 'reef-template': c.reefScript = templateEngine(args, ftext); break\r\n          default:\r\n            var p = type.split('reef-p-')[1]\r\n            if (p) { try { ftext = JSON.parse(ftext) } catch (err) {} props[p.trim()] = ftext; return true }\r\n            reefWarn('unknown reef slot type', type)\r\n            break\r\n        }\r\n      }\r\n    } catch (err) { reefWarn('reef-slot script parsing ERROR:', ftext || c.type, c, err) }\r\n  }\r\n\r\n  function reeferDOM (el, parentReef) {\r\n    if (!el) return null\r\n    var reefName = el.getAttribute('reef')\r\n    try {\r\n      var attrBag = getAttributes(el)\r\n      var cloneEl = el.cloneNode(true) // deep copy\r\n      if (cloneEl) {\r\n        attrBag = attrBag || {}\r\n        if (cloneEl.children) {\r\n          for (var i = 0; i < cloneEl.children.length; i++) {\r\n            var slots = alwaysobj(attrBag, 'slots')\r\n            var c = cloneEl.children[i]\r\n            var ga = c.getAttribute\r\n            var attr = (ga && ga.call(c, 'reef-slot')) || 'default'\r\n            if (c.nodeName === 'SCRIPT' && c.type.indexOf('reef-') === 0) {\r\n              if (parseScript(attrBag, c)) continue\r\n            }\r\n            var sa = slots[attr] = slots[attr] || []\r\n            sa.push(c)\r\n            sa.text = (sa.text || '') + (ga ? c.outerHTML : c.data) // convenience\r\n            if (!('el' in sa)) sa.el = c // convenience\r\n            if (!('script' in sa) && c.reefScript) sa.script = c.reefScript // convenience\r\n          }\r\n        }\r\n      }\r\n\r\n      return mount(el, reefName, attrBag, parentReef)\r\n    } catch (err) {\r\n      reefWarn('Reefer failed to mount: ', reefName, el, err)\r\n    }\r\n    return null\r\n  }\r\n\r\n  function publishLF (reef, lf) { return reef.lifecycle && reef.lifecycle[lf] && reef.lifecycle[lf].call(reef) }\r\n\r\n  function getAttributes (el) {\r\n    var attrBag\r\n    var attrlist = el.attributes\r\n    for (var i = 0; i < attrlist.length; i++) {\r\n      var attr = attrlist[i]\r\n      var n = attr.name + ''\r\n      if (n.indexOf('reef-p') === 0) {\r\n        attrBag = attrBag || { }\r\n        var val = attr.value\r\n        var spl = n[6] // whatever the character is... use two of those to split - 6 is len of 'reef-p'\r\n        var ev = val.split(spl + spl); val = ev[0]; ev = ev[1]\r\n        var p = n.substring(7) // 7 is len of 'reef-pX' (note the 'X')\r\n        var d = determineDataBinding(p, val)\r\n        try { val = JSON.parse(val) } catch (err) {}\r\n        if (!d) alwaysobj(attrBag, 'props')[p] = val; else alwaysobj(attrBag, 'bind')[p] = d\r\n        if (ev) alwaysobj(attrBag, 'events')[p] = ev\r\n      } else if (n.indexOf('reef.') === 0) {\r\n        var lis = n.substring(5)\r\n        attrBag = attrBag || { }\r\n        alwaysobj(attrBag, 'listeners')[lis] = attr.value\r\n      }\r\n    }\r\n    return attrBag\r\n  }\r\n\r\n  function determineDataBinding (k, v) {\r\n    if (v[0] !== '~') return false\r\n    var s = v.split('~')\r\n    return { prop: s[1], selector: (s.length < 2) ? '^' : s[2] }\r\n  }\r\n\r\n  function templateGenerator (args, templateString) {\r\n    return new Function(args, 'return `' + templateString + '`;')\r\n  }\r\n\r\n  function templateGeneratorES5 (args, templateString) {\r\n    templateString = templateString.split('\\n').join('\\\\\\n').replace(/\"/g, '\\\\\"') // multiline and escape double quotes and slashes\r\n    return new Function(args, 'var f=function (_, exp) {return eval(exp)}; f.bind(this); return \"' + templateString + '\".replace(/\\\\${(.*?)}/g, f)')\r\n  }\r\n\r\n  function mount (el, name, localData, parentReef) {\r\n    localData = localData || {}\r\n    if (!rf_registry[name]) reefError('Reefer NOT registered: ', name)\r\n\r\n    // make Reefer\r\n    var defaultData = rf_registry[name]\r\n    var reef = new opts.use(el, defaultData, localData)\r\n    reef.name = name\r\n    el.setAttribute('reef-stage', 'mounted')\r\n\r\n    // register listeners\r\n    if (reef.listeners) {\r\n      var al = []\r\n      var rl = reef.listeners\r\n      for (var k in rl) {\r\n        al.push(k)\r\n        var ev = k.split('.')\r\n        var e = ev[0]\r\n        if (!rf_listeners[e]) { // we only need to add it once\r\n          rf_listeners[e] = listenerFactory(e)\r\n          document.addEventListener(e, rf_listeners[e], false)\r\n        }\r\n        rl[e] = rl[k]\r\n        if (rl[ev[1]] === 'stop') rl[e].reefStop = true\r\n      }\r\n      reef.listeners = al // keep the tag so we know we had listeners - but they are source from the registry\r\n    }\r\n\r\n    return reef\r\n  }\r\n\r\n  function listenerFactory (type) {\r\n    return function (event) {\r\n      var el = (event.detail && event.detail.reefEmitRootEl) || event.target; var rr\r\n      var evattr = 'reef.' + type\r\n      var handlers = []\r\n      while (el) {\r\n        if (el.getAttribute) {\r\n          var evvalue = el.getAttribute(evattr)\r\n          if (!evvalue) {\r\n            evvalue = el.getAttribute(evattr + '.stop')\r\n            if (evvalue) evvalue.stop = true\r\n          }\r\n          if (evvalue) handlers.push(evvalue.trim())\r\n          var reef = el.reef\r\n          if (!event.reef) event.reef = reef\r\n          if (reef && handlers.length) { // parse the handler for the event\r\n            for (var i = 0; i < handlers.length; i++) {\r\n              var ev = handlers[i]\r\n              var fn = ev\r\n              /*\r\n              var func = function (event) { eval(fn) }\r\n              try { func.call(reef, event) } catch (err) { reefWarn('reef-event-Error') }\r\n              /* // old syntax - you do do prop(value)\r\n              */\r\n              var parseArgs = function (str) {\r\n                var argsets = str.match(/\\(([^)]*)\\)/)\r\n                return (argsets && argsets[1]) || ''\r\n              }\r\n              var args = parseArgs(fn)\r\n              if (args) {\r\n                args = args.split(',')\r\n                fn = fn.split('(')[0]\r\n                var idx = args.indexOf('$event') // allow substition\r\n                if (idx >= 0) args[idx] = event\r\n              }\r\n              var f = reef.dot(fn); var rval\r\n              if (f.value !== undefined) {\r\n                if (isfunction(f.value)) rval = f.value.apply(f.obj, args || [event])\r\n                else reef.dot(fn, args[0])\r\n                if (rval === 'stop' || ev.stop) return\r\n              }\r\n            }\r\n          }\r\n          var rn = reef && reef.name\r\n          if (rf_registry[rn]) {\r\n            rr = rf_registry[rn]\r\n            if (rr.listeners && rr.listeners[type]) {\r\n              if (rr.listeners[type].call(reef, event) === 'stop' || rr.listeners[type].reefStop) { return } // hmm - should we support bubbling?\r\n            }\r\n          }\r\n        }\r\n        el = el.parentNode\r\n      }\r\n    }\r\n  }\r\n\r\n  function register (inname, reefData, superReef) {\r\n    var name = (inname[0] === '*') ? inname.substring(1) : inname\r\n    superReef = superReef || ''\r\n    reefData.data = arrtoobj(reefData.data, undefined)\r\n    if (rf_registry[name]) { if (inname === name) reefError('Reefer already registered: ' + name); return }\r\n    if (!rf_registry[superReef]) reefError('Super Reef NOT registered: ' + superReef)\r\n    rf_registry[name] = xs.assign({}, rf_registry[superReef], reefData)\r\n    rf_registry[name].name = name\r\n    rf_registry[name].super = superReef\r\n    return true\r\n  }\r\n\r\n  // ============================================\r\n  // Reefer - helpers\r\n  // ============================================\r\n  function resolveEl (el, ctx) { if (typeof (el) !== 'string') return el; return resolveEl(ctx || document).querySelector(el) }\r\n  function isfunction (obj) { return !!(obj && obj.constructor && obj.call && obj.apply) }\r\n  function arrtoobj (arr, v) { if (!Array.isArray(arr)) return arr; var o = {}; for (var i = 0; i < arr.length; i++) o[arr[i]] = (arguments.length <= 1 ? true : v); return o }\r\n  function cif (o, props, o1, o2) {\r\n    for (var i = 0; i < props.length; i++) {\r\n      var p = props[i]\r\n      var np = (p in o2) ? o2[p] : o1[p]\r\n      if (np === undefined) continue\r\n      o[p] = xs.clone(o1[p], o2[p])\r\n    }\r\n  }\r\n\r\n  // ============================================\r\n  // Reefer - constructor\r\n  // ============================================\r\n  function Reefer (rootEl, setup, localSetup) {\r\n    setup = setup || {}\r\n    localSetup = localSetup || {}\r\n    var rf = this\r\n    var _ = this.__ = {}\r\n    cif(_, ['template', 'update', 'bind'], setup, localSetup)\r\n    cif(this, ['methods', 'observers', 'listeners', 'mutate', 'lifecycle'], setup, localSetup) // intentional shallow copies\r\n    if ('shared' in setup) this.shared = setup.shared\r\n    if (setup.events || localSetup.events) _.events = xs.assign({}, arrtoobj(setup.events), localSetup.events)\r\n    if (setup.decorators || localSetup.decorators) _.decorators = xs.assign({}, arrtoobj(setup.decorators), arrtoobj(localSetup.decorators))\r\n    if (setup.slots || localSetup.slots) xs.assign(alwaysobj(this, 'slots'), setup.slots, localSetup.slots)\r\n    if ('super' in setup) this.super = rf_registry[setup.super]\r\n\r\n    var sh = this.methods; if (sh) for (var k in sh) sh[k] = isfunction(sh[k]) ? sh[k].bind(rf) : sh[k] // bind to reef\r\n\r\n    this.rootEl = rootEl\r\n    rootEl.reef = this\r\n    _.obsf = Reefer.prototype.react.bind(rf)\r\n    var _d = this.data = xs.observe({}, _.obsf) // public as well -- our main \"react\" core\r\n    xs.assign(_d, _.decorators, setup.data, localSetup.props) // make our data\r\n    // for (k in this.observers) if (!(k in _d)) _d[k] = undefined\r\n    for (k in _.bind) doDataBind(this, 'data.' + k, _.bind[k].selector, _.bind[k].prop)\r\n    xs.observe(_d) // trigger observers\r\n    this.sym = '$' + rf_counter++\r\n    return this\r\n  }\r\n  Reefer.prototype.unmount = function () {\r\n    publishLF(this, 'umnount')\r\n    var _ = this.__ || {}\r\n    xs.unobserve(this.data, _.obsf)\r\n    if (_.bind) {\r\n      for (var k in _.bind) {\r\n        var b = _.bind[k]\r\n        if (b.obsf) xs.unobserve(b.sp.obj, b.obsf)\r\n      }\r\n    }\r\n  }\r\n\r\n  // ============================================\r\n  // react\r\n  // ============================================\r\n  function regexprep (o) { var s = ''; for (var k in o) { s += ':xs:' + k + '\\n' }; return s }\r\n  Reefer.prototype.react = function (updates) { // core event engine\r\n    updates.reef = this\r\n    var _ = this.__\r\n    var status\r\n    var p = updates.root// = updates.path.split('.')[0]//updates.path ? updates.path.split('.')[0] : updates.prop\r\n    var _obs = this.observers\r\n    var _ev = _.events\r\n    var rx = _.proprx = _.proprx || ((_obs ? regexprep(_obs) : '') + (_ev ? regexprep(_ev) : ''))\r\n    if (rx) {\r\n      var str = '(:xs:((' + updates.path/* .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') */.replace(/\\./g, '\\\\.)|(\\\\*\\\\.))*((') + ')|(\\\\*)))\\n'\r\n      var regx = new RegExp(str, 'g')\r\n      var m = rx.match(regx)\r\n      if (m) {\r\n        var mp = m[0]\r\n        for (var i = 1; i < m.length; i++) if (m[i].length > mp.length) mp = m[i]\r\n        p = mp.substring(4, mp.length - 1) // skipe the ':xs:\r\n      }\r\n    }\r\n    var op = _obs && _obs[p]\r\n    if (op) { // observers\r\n      if (isfunction(op)) status = op.call(this, updates)\r\n      else {\r\n        if (!updates.path && (updates.action === 'set' || updates.action === 'add')) {\r\n          var o = this.dot(op)\r\n          if (isfunction(o.value)) o.value.call(this)\r\n          else o.obj[o.prop] = updates.value\r\n        }\r\n      }\r\n    }\r\n    if (_ev && _ev[p]) { // events\r\n      var e = _.name + '.' + (_ev[p] === true ? p : _ev[p])\r\n      emit(this.rootEl, e, updates)\r\n    }\r\n\r\n    var mstatus\r\n    if (updates.value === updates.prev) return\r\n    if (this.mutate) mstatus = this.mutate(this, updates)\r\n    var _d = _.decorators\r\n    if (!this.sym) return // we are still constructing\r\n    if (status !== 'done' && mstatus !== 'done' && (!_d || (!_d[p] && !_d[mp]))) this.rerender() // re-render\r\n  }\r\n  Reefer.prototype.observe = function (k, cb) { var _o = alwaysobj(this, 'observers'); _o[k] = cb; this.__.obsrx = null }\r\n  Reefer.prototype.decorate = function (k, set) { var _d = alwaysobj(this, 'decorators'); _d[k] = (set !== false && set !== 0) }\r\n  Reefer.prototype.events = function (k, set) { var _e = alwaysobj(this.__, 'events'); _e[k] = (set !== false && set !== 0 && set); this.__.evrx = null }\r\n  Reefer.prototype.watch = function (k, o) { this.data[k] = o; this.data.__observe__() }\r\n  Reefer.prototype.bind = function (k, sel, copyk, ctx) { doDataBind(this, k, sel, copyk, ctx) }\r\n  Reefer.prototype.emit = function (ev, detail) { emit(this.rootEl, ev, detail) }\r\n  function loadData (datapath, url, opts) { // this must be Reefer\r\n    var rf = this\r\n    opts = opts || {}\r\n    var xhr = opts.xhr || new XMLHttpRequest()\r\n    /* if (!opts.xhr || opts.responseType) // either it's new or it's passed in\r\n    { xhr.responseType = opts.responseType || 'json' } */\r\n    xhr.onerror = function (err) { console.log('REEF HTTP LOAD', err); emit(rf.rootEl, 'reefLoadDataFail', { url: url }) }\r\n    xhr.onload = function (ev) {\r\n      if (this.status === 200) {\r\n        var res = this.response\r\n        try { res = JSON.parse(res) } catch (err) {}\r\n        if (opts.sanitize) res = sanitize(res)\r\n        rf.dot(datapath, res)\r\n      } else if (this.status) xhr.onerror(ev)\r\n    }\r\n    xhr.open(opts.method || 'GET', url, true)\r\n    xhr.send(null)\r\n    return xhr\r\n  }\r\n  function loadHTML (datapath, url) { // this must be Reefer\r\n    var rf = this\r\n    if (document.readyState !== 'loading') {\r\n      var script = document.createElement('script')\r\n      script.src = url\r\n      document.getElementsByTagName('head')[0].appendChild(script)\r\n    } else {\r\n      document.write('<script src=\"' + url + '\"></script')\r\n      script = document.getElementsByTagName('script')\r\n      script = script[script.length - 1]\r\n    }\r\n    script.onerror = function (err) { console.log('REEF SCRIPT LOAD', err); script.parentNode.removeChild(script); emit(rf.rootEl, 'reefLoadHTMLFail', { url: url }) }\r\n    script.reefCB = function (data) { rf.dot(datapath, data) }\r\n    if (!document.currentScript) window.rf_script = script\r\n    return script\r\n  }\r\n\r\n  function realizeSource (refobj, copyprop) {\r\n    var pp = copyprop.split('.')\r\n    var sp = dot(refobj, pp)\r\n    if (sp.obj) return sp\r\n    var fp = copyprop.split('.'); var oc = refobj\r\n    for (var i = 0; i < fp.length; i++) {\r\n      var nc = oc[fp[i]]; if (nc === undefined || nc === null || typeof (nc) !== 'object') oc[fp[i]] = (i == fp.length - 1 ? undefined : {}); oc = oc[fp[i]]\r\n    }\r\n    return dot(refobj, pp)\r\n  }\r\n\r\n  function jsonp (str, rf, proppath) {\r\n    var ind = str.indexOf('{JSONP}')\r\n    if (ind < 0) return str\r\n    var fname = 'jsonp_rf_' + rf_counter++\r\n    window[fname] = function (data) {\r\n      rf.dot(proppath, data)\r\n      delete window[fname]\r\n    }\r\n    return str.replace('{JSONP}', fname)\r\n  }\r\n\r\n  function findParentReef(rf, count) {\r\n    var el = rf && rf.rootEl\r\n    while (rf && el) {\r\n      if (count--==0) return rf\r\n      do el = el.parentNode; while (el && !el.reef)\r\n      rf = el.reef \r\n    }\r\n    return null\r\n  }\r\n  function doDataBind (rf, proppath, sel, copyprop, selctx) {\r\n    var refobj, sp\r\n    sel = sel || '^'\r\n    var _ = rf.__\r\n    var _b = alwaysobj(_, 'bind')\r\n    var _bp = alwaysobj(_b, proppath)\r\n    copyprop = copyprop || proppath\r\n    if (_bp.proppath === proppath && _bp.selector === sel && _bp.prop === copyprop) return\r\n    switch (sel[0]) {\r\n      case '^':\r\n        refobj = findParentReef (rf, sel.substring(1)|0)\r\n        if (!refobj) reefError ('unable to find parent to data bind', rf, proppath)\r\n        sp = realizeSource(refobj, copyprop)\r\n        break\r\n      case '#':\r\n      case '.':\r\n      case '[':\r\n        var el = (selctx || document).querySelector(sel)\r\n        refobj = el && el.reef\r\n        if (!refobj) reefError('unable to locate reef for bind')\r\n        sp = realizeSource(refobj, copyprop)\r\n        break\r\n      default:\r\n        var els = sel.split('$')\r\n        _b[proppath] = { proppath: proppath, selector: sel, prop: copyprop }\r\n        switch (els[1]) {\r\n          case 'data':\r\n          case 'html':\r\n          case 'json-raw': loadData.call(rf, proppath, els[2]); break\r\n          case 'json': loadData.call(rf, proppath, els[2], { sanitize: true }); break\r\n          case 'jsonp': els[2] = jsonp(els[2], rf, proppath) // fall through\r\n          case 'js': loadHTML.call(rf, proppath, els[2]); break\r\n          default:\r\n            reefError('unknown data bind: ' + proppath + ': ' + sel)\r\n        }\r\n        sp = realizeSource(rf, copyprop)\r\n        if (copyprop === proppath) return\r\n        break\r\n        // fall through\r\n    }\r\n\r\n    // /var dp = dot(rf, proppath)\r\n    var dp = realizeSource(rf, proppath)\r\n    if (!dp.obj) reefError('data bind not found: ' + proppath)\r\n    var f = function (u) {\r\n      if (!rf.rootEl || rf.rootEl.getRootNode() !== document) {\r\n        rf.unmount()\r\n        return\r\n      }\r\n      rf.react(u)\r\n    }\r\n    var obsf = xs.alias(dp.obj, dp.prop, sp.obj, sp.prop, f)\r\n    _b[proppath] = { proppath: proppath, selector: sel, prop: copyprop, sp: sp, unobs: obsf }\r\n  }\r\n\r\n  // ============================================\r\n  // render\r\n  // ============================================\r\n  Reefer.prototype.render_ = render\r\n  Reefer.prototype.render = function () {\r\n    xs.tick(this.sym + '_rr', this, render)\r\n  }\r\n  function render () {\r\n    publishLF(this, 'beforeRender')\r\n    var t = new Date()\r\n    var rel = this.rootEl\r\n    if (!rel || rel.getRootNode() !== document) {\r\n      this.unmount()\r\n      return\r\n    }\r\n    var template = this.__.template\r\n    if (template) {\r\n      var fc = this.__.fcounter\r\n      if (fc) this.htmlBegin()\r\n      fc = this.__.fcounter //  reset it\r\n      var res = template.call(this, this.slots) || ''\r\n      if (this.__.harr) this.htmlEnd()\r\n      else if (typeof (res) === 'string') {\r\n        if (res !== 'done') rel.innerHTML = res // a way to \"out\"\r\n      } else {\r\n        rel.innerHTML = ''\r\n        if (Array.isArray(res)) res.forEach(function (e) { rel.appendChild(e) })\r\n        else rel.appendChild(res)\r\n      }\r\n      if (rel.parentNode.classList.contains('container')) { rel = rel }\r\n      run(rel) // hydrate nested components (should we only do this if we have a template?)\r\n      if (rel.parentNode.classList.contains('container')) { console.log('render', new Date() - t) }\r\n    }\r\n    publishLF(this, 'afterRender')\r\n  }\r\n  Reefer.prototype.rerender = function () {\r\n    this.__.renderflag = (this.__.renderflag || 0) + 1\r\n    xs.tick(this.sym + '_rr', this, rerender, true)\r\n  }\r\n  function rerender () {\r\n    if (this.__.renderflag === 0) return\r\n    var sel = saveSelection(this.rootEl)\r\n    render.call(this)\r\n    sel()\r\n    this.__.renderflag = 0\r\n  }\r\n  function getAttachPoint (el) {\r\n    switch (el.nodeName) {\r\n      case 'TABLE': return (el.childNodes && el.childNodes[0]) || el\r\n      default: return el\r\n    }\r\n  }\r\n  function hash (str) {\r\n    // if (typeof (str) === 'object') str = JSON.stringify(str)\r\n    var hash = 0; var len = str.length\r\n    for (var i = 0; i < len; i++) {\r\n      hash = hash * 31 + str.charCodeAt(i)\r\n      hash = hash & hash\r\n    }\r\n    return hash\r\n  }\r\n  Reefer.prototype.htmlBegin = function (forceClean) {\r\n    if (!this.__.harr || forceClean) {\r\n      this.__.hmap = {}\r\n      this.__.hgeneration = -1\r\n    }\r\n    this.__.harr = []\r\n    this.__.harr.html = ''\r\n    this.__.harr.htmlIdx = 0\r\n    this.__.harr.wmap = new WeakMap()\r\n    this.__.hgeneration++\r\n    this.__.fcounter = 0\r\n  }\r\n  /*\r\n  function replaceNode (c, nch) {\r\n    var p = c.previousSibling\r\n    var pn = p || c.parentNode\r\n    if (!c.getAttribute && 0) { c.nodeValue = nch } else { c.outerHTML = nch }\r\n    return p ? p.nextSibling : pn.childNodes[0]\r\n  }\r\n*/\r\n  const rf_tagvalue = {\r\n    'INPUT': true,\r\n    'TEXTAREA': true\r\n  }\r\n  function copyAttributes (c, n) {\r\n    // try {\r\n    var a = {}; var at\r\n    var na = n.attributes; var nal = na.length\r\n    if (rf_tagvalue[c.nodeName] && c.value !== n.value) { c.value = n.value } // for textarea and input\r\n    for (var i = 0; i < nal; i++) {\r\n      at = na[i]; a[at.name] = true\r\n      if (c.getAttribute(at.name) !== at.value) {\r\n        c.setAttribute(at.name, at.value)\r\n      }\r\n    }\r\n    var ca = c.attributes; var cal = ca.length\r\n    if (cal === nal) return true\r\n    for (i = 0; i < cal; i++) {\r\n      at = ca[i]; if (a[at.name]) continue\r\n      c.removeAttribute(at.name)\r\n    }\r\n    return true\r\n    // } catch (err) { return false }\r\n  }\r\n  function mergeNode (c, n) {\r\n    if (c.nodeType === 3 && n.nodeType === 3) {\r\n      c.nodeValue = n.nodeValue\r\n      return c\r\n    }\r\n    if ((c.nodeName !== n.nodeName) || (!copyAttributes(c, n))) {\r\n      c.parentNode.replaceChild(n, c)\r\n      return n\r\n    }\r\n    var cc = c.childNodes\r\n    var nc = n.childNodes\r\n    if (cc.length || nc.length) {\r\n      var i\r\n      var il = i = Math.min(cc.length, nc.length)\r\n      while (il < cc.length) c.removeChild(cc[i])\r\n      while (il < nc.length) c.appendChild(nc[i])\r\n      while (--i >= 0) {\r\n        var ccn = cc[i]\r\n        var ncn = nc[i]\r\n        if (ccn.nodeType === 3 && ncn.nodeType === 3) { if (ccn.nodeValue !== ncn.nodeValue) ccn.nodeValue = ncn.nodeValue; continue }\r\n        if (ccn.isEqualNode(ncn)) continue\r\n        if (ccn.nodeName !== ncn.nodeName || !mergeNode(ccn, ncn)) {\r\n          c.replaceChild(ncn, ccn)\r\n        }\r\n      }\r\n    }\r\n    return c\r\n  }\r\n\r\n  Reefer.prototype.htmlUpdate = function (idx, id, htmlGen) {\r\n    var _ = this.__\r\n    var hm = _.hmap\r\n    if (!hm) return\r\n    var hsh = hash(htmlGen)\r\n    id = (id === undefined || id === null) ? hsh : id\r\n    if (!(id in hm)) reefError('updating non-existent element')\r\n    if (hm[id].hsh === hsh && idx === hm[id].idx) return\r\n    var root = getAttachPoint(this.rootEl)\r\n    var c = hm[id].el\r\n    if (!c.getAttribute) { if (c.nodeValue !== htmlGen) c.nodeValue = htmlGen; return } // cheat\r\n    hm[id].el = mergeNode(root.childNodes[idx], hydrate(root, htmlGen).firstChild)\r\n    hm[id].hsh = hsh\r\n    hm[id].idx = idx\r\n  }\r\n\r\n  Reefer.prototype.htmlEnd = function () {\r\n    var _ = this.__\r\n    var genid = _.hgeneration\r\n    var hta = ''\r\n    var ha = _.harr\r\n    var hm = _.hmap\r\n    if (!ha) return\r\n    var fl = this.__.fcounter\r\n    var prev = null\r\n    if (fl === 0) {\r\n      this.htmlBegin(true) // reset\r\n      this.rootEl.innerHTML = ''\r\n      return\r\n    }\r\n    if (genid === 0) this.rootEl.innerHTML = '' // do this first\r\n    for (var k in hm) { // delete untouched\r\n      var hc = hm[k]\r\n      if (hc.generation === genid) continue\r\n      if (hc.el) hc.el.parentNode.removeChild(hc.el)\r\n      delete hm[k]\r\n    }\r\n\r\n    var root = getAttachPoint(this.rootEl)\r\n    var div = document.createElement(root.nodeName)\r\n\r\n    if (ha.html) {\r\n      // div.innerHTML = ha.html\r\n      div = hydrate(root, ha.html)\r\n      ha.html = ''\r\n    }\r\n\r\n    var cnt = 0\r\n    for (var i = 0; i < fl; i++) {\r\n      hc = ha[i]\r\n      var c = hc.el\r\n      var h = hc.h\r\n      // if (typeof (h) === 'object') h = h.html()\r\n      if (typeof (h) === 'number') {\r\n        var n = div.childNodes[hc.h - cnt]\r\n        /*\r\n        if (typeof (hc.hh) === 'object') {\r\n          var ch = c.c\r\n          var nh = hc.hh\r\n          nh.el = n\r\n          ch.el = c\r\n          nh = hmerge(ch, nh)\r\n          if (nh !== ch) {\r\n            hc.el = c = nh.el\r\n            cnt++\r\n          }\r\n          c.c = nh\r\n        } else {\r\n        */\r\n        // n = morphdom(c,n)\r\n        n = mergeNode(c, n)\r\n        if (n !== c) {\r\n          hc.el = c = n\r\n          cnt++\r\n        }\r\n        // }\r\n      } else if (h) {\r\n        if (/* 0 && */i >= root.childNodes.length) hta += h\r\n        else hc.el = c = hydrate(root, h).firstChild\r\n        // c.c = hc.h\r\n      }\r\n      hc.idx = i\r\n      hc.h = ''\r\n      if (c) {\r\n        hc.el = c\r\n        ha.wmap.set(c, i)\r\n        if (c.parentNode !== root || c.previousSibling !== prev) { // clean up placement\r\n          if (prev) {\r\n            root.insertBefore(c, prev.nextSibling)\r\n          } else if (!root.childNodes || root.childNodes[0] !== c) {\r\n            root.insertBefore(c, root.childNodes && root.childNodes[0])\r\n          }\r\n        }\r\n        prev = c\r\n      }\r\n    }\r\n    ha.length = fl\r\n\r\n    var rcl = root.childNodes.length\r\n    if (hta) root.insertAdjacentHTML('beforeend', hta) // end insert\r\n    root = getAttachPoint(this.rootEl)\r\n    if (root && ha.length !== root.childNodes.length) {\r\n      console.error('inconsistent count - must be 1 html() entity for hmtl()')\r\n    }\r\n    for (i = rcl; i < ha.length; i++) { ha[i].el = root.childNodes[i]; ha.wmap.set(ha[i].el, i) }\r\n    return 'done'\r\n  }\r\n\r\n  Reefer.prototype.htmlFromIdx = function (idx) {\r\n    var root = getAttachPoint(this.rootEl)\r\n    return root.childNodes[idx]\r\n  }\r\n  Reefer.prototype.htmlChild = function (el) {\r\n    while (el.parentNode !== this.rootEl) el = el.parentNode\r\n    return el\r\n  }\r\n  Reefer.prototype.htmlToIdx = function (el) {\r\n    while (el.parentNode !== this.rootEl) el = el.parentNode\r\n    var v = this.__.harr.wmap.get(el)\r\n    return v === undefined ? -1 : v\r\n  }\r\n  /*\r\n  Reefer.prototype.htmlKeyToIdx = function (id) {\r\n    var hm = this.__.hmap\r\n    if (!hm || !hm[id]) return null\r\n    return hm[id].idx | 0\r\n  }\r\n  Reefer.prototype.htmlFromKey = function (id) {\r\n    var hm = this.__.hmap\r\n    if (!hm || !hm[id]) return null\r\n    return hm[id].el\r\n  }\r\n*/\r\n  // const typecache = {}\r\n  function hydrate (type, h) {\r\n    rf_range.selectNode(type)\r\n    var el = rf_range.createContextualFragment(h)\r\n    return type.nodeName === 'TBODY' ? el.childNodes[0] : el\r\n    /*\r\n    type = type.nodeName\r\n    var t = typecache[type]\r\n    if (!t) t = typecache[type] = document.createElement(type.nodeName)\r\n    if (!h) return t\r\n    t.innerHTML = h\r\n    return t.childNodes[0]\r\n    */\r\n  }\r\n  Reefer.prototype.html = function (id, htmlGen) {\r\n    if (!this.__.harr) this.htmlBegin()\r\n    var _ = this.__\r\n    var ha = _.harr\r\n    var hm = _.hmap\r\n    var idx = _.fcounter++\r\n    var genid = _.hgeneration\r\n    var hsh = hash(htmlGen); var hc\r\n    id = (id === undefined || id === null) ? hsh : id\r\n    if (hm[id]) {\r\n      hc = hm[id]\r\n      if (hc.generation === genid) reefError('duplicate html() id')\r\n      hc.generation = genid\r\n      ha[idx] = hc // set the position\r\n      if (hc.hsh === hsh) return\r\n      hc.h = ha.htmlIdx++\r\n      /*\r\n      hc.hh = typeof(htmlGen)==='object' && htmlGen\r\n      ha.html += (typeof (htmlGen) === 'object' ? htmlGen.html() : htmlGen)\r\n      */\r\n      ha.html += htmlGen\r\n      hc.hsh = hsh\r\n      // hc.split = splitter(htmlGen)\r\n    } else {\r\n      hc = { h: htmlGen, hsh: hsh, idx: idx, id: id, generation: genid, el: null }\r\n      ha.splice(idx, 0, hc)\r\n      hm[id] = hc\r\n    }\r\n  }\r\n  /*\r\n  function hcopy (c, n) {\r\n    c.tag = n.tag\r\n    c.d = n.d\r\n    c.c = n.c\r\n    c.el = n.el\r\n  }\r\n  function hcopyAttributes (c, n) {\r\n    try {\r\n      var ca = c.a\r\n      var na = n.a\r\n      for (var a in na) {\r\n        if (ca[a] !== na[a]) {\r\n          if (rf_tagvalue[c.nodeName] && a === 'value') {\r\n            c.value = na[a]\r\n          }\r\n          ca[a] = na[a]\r\n          c.el.setAttribute(a, ca[a])\r\n        }\r\n      }\r\n      for (a in ca) {\r\n        if (!(a in na)) {\r\n          delete ca[a]\r\n          c.el.removeAttribute(a)\r\n        }\r\n      }\r\n      return true\r\n    } catch (err) {\r\n      console.error(err)\r\n    }\r\n    return false\r\n  }\r\n  function hmergeAttempt (c, n) {\r\n    if (!c.tag && !n.tag) {\r\n      if (c.d !== n.d) {\r\n        c.d = n.d\r\n        c.el.nodeValue = n.el.nodeValue\r\n      }\r\n      return true\r\n    }\r\n    if (c.tag !== n.tag || !hcopyAttributes(c, n)) {\r\n      return false\r\n    }\r\n\r\n    // copy attributes\r\n    if (!c.el || !n.el) { debugger}\r\n\r\n    if ((c.c && c.c.length) || (n.c && n.c.length)) {\r\n      var i\r\n      var cc = (c.c && c.c[0] && c.c) || []; var cce = c.el.childNodes\r\n      var nc = (n.c && n.c[0] && n.c) || []; var nce = n.el.childNodes\r\n      var il = i = Math.min(cc.length, nc.length)\r\n      while (il < cce.length) c.el.removeChild(cce[i])\r\n      while (il < nce.length) c.el.appendChild(nce[i])\r\n      c.c.length = n.c.length\r\n      while (--i >= 0) {\r\n        var ccn = cc[i]; ccn.el = cce[i]\r\n        var ncn = nc[i]; ncn.el = nce[i]\r\n        if (!ccn.tag && !ncn.tag) { if (ccn.d !== ncn.d) { ccn.d = ncn.d; ccn.el.nodeValue = ncn.el.nodeValue } continue }\r\n        if (ccn.tag !== ncn.tag || !hmergeAttempt(ccn, ncn)) {\r\n          c.el.replaceChild(ncn.el, ccn.el)\r\n          hcopy(ccn, ncn)\r\n        }\r\n      }\r\n    }\r\n    return true\r\n  }\r\n\r\n  function hmerge (c, n) {\r\n    if (c.tag !== n.tag || !hmergeAttempt(c, n)) {\r\n      c.el.parentNode.replaceChild(n.el, c.el)\r\n      hcopy(c, n)\r\n      return n\r\n    }\r\n    return c\r\n  }\r\n  function HTAG (t, data) {\r\n    var p = HTAG.prototype\r\n    this.tag = t\r\n    this.a = p.a\r\n    this.c = p.c\r\n    this.d = data\r\n  }\r\n  HTAG.prototype.a = function (o) {\r\n    this.a = o; this.a[0] = true; return this\r\n  }\r\n  HTAG.prototype.c = function (c) {\r\n    this.c = c; return this\r\n  }\r\n  HTAG.prototype.html = function () {\r\n    if (!this.tag) return this.d\r\n    var a = this.a; var attrs = ''\r\n    if (a && a[0]) {\r\n      for (var k in a) {\r\n        if (k !== '0') { attrs += ' ' + k + '=\"' + a[k].replace(/\"/, '\\\\\"') + '\"' }\r\n      }\r\n    }\r\n    var c = this.c; var chtml = ''\r\n    if (c && c[0]) for (var i = 0; i < c.length; i++) chtml += c[i].html()\r\n    return '<' + this.tag + attrs + '>' + chtml +\r\n           '</' + this.tag + '>'\r\n  }\r\n\r\n  Reefer.prototype.htag = function (t) { return new HTAG(t) }\r\n  Reefer.prototype.hdata = function (d) { return new HTAG(false, d) }\r\n*/\r\n  Reefer.prototype.dot = function (path, value) {\r\n    var v = dot(this, path)\r\n    if (arguments.length > 1) {\r\n      if (!v.obj) throw Error('chain path missing')\r\n      v.obj[v.prop] = value\r\n    }\r\n    return v\r\n  }\r\n  Reefer.prototype.styleBag = function (e, s) {\r\n    var rel = e instanceof Node ? e : this.rootEl\r\n    if (rel === this.rootEl) s = e\r\n    var hsh = hash(JSON.stringify(s))\r\n    if (rel.__xs__style === hsh) return\r\n    for (var k in s) rel.style[k] = s[k]\r\n    rel.__xs__style = hsh\r\n  }\r\n\r\n  // ============================================\r\n  // utilities\r\n  // ============================================\r\n  function dot (obj, spl) {\r\n    if (typeof (spl) === 'string') spl = spl.split('.')\r\n    var l = spl.length\r\n    for (var i = 0; i < l; i++) {\r\n      var k = spl[i]; var o = obj; obj = o[k]\r\n      if ((!obj || typeof (obj) !== 'object') && ((i + 1 < l) || (!(k in o)))) return { last: { obj: o, prop: k } }\r\n    }\r\n    return { value: obj, obj: o, prop: k }\r\n    /*\r\n    for (var i = 0; i < l && (obj !== undefined || !i); i++) {\r\n      key = spl[i]; ctx = obj\r\n      obj = (obj && key in obj) ? obj[key] : undefined\r\n    }\r\n    var ret = { value: obj, prop: key, obj: ctx }\r\n    return (i === l) ? ret : { last: ret }\r\n    */\r\n  }\r\n\r\n  function getChildIndex (node) { return [].indexOf.call(node.parentNode.childNodes, node) }\r\n  function saveSelection (rootEl) { // save the text selection (call the ret() as func to retore)\r\n    var ael = document.activeElement\r\n    if (ael) {\r\n      var startPosition = ael.selectionStart\r\n      var endPosition = ael.selectionEnd\r\n      var aeindex = []\r\n      while (ael && ael !== rootEl && ael.parentNode) {\r\n        aeindex.push(getChildIndex(ael))\r\n        ael = ael.parentNode\r\n      }\r\n    }\r\n    return function () {\r\n      if (ael) {\r\n        ael = rootEl\r\n        while (ael && aeindex.length) {\r\n          var ind = aeindex.pop()\r\n          ael = ael.childNodes[ind]\r\n        }\r\n        if (ael) {\r\n          if (ael.focus) ael.focus()\r\n          try {\r\n            ael.selectionStart = startPosition\r\n            ael.selectionEnd = endPosition\r\n          } catch (err) {}\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /*\r\n  function createCSS (name, rules) {\r\n    var style = document.getElementById ('__dynamic_styles__')\r\n    if (!style) {\r\n      style = document.createElement('style');\r\n      style.id = '__dynamic_styles__'; style.type = 'text/css'\r\n      document.getElementsByTagName('head')[0].appendChild(style)\r\n    }\r\n    var sheet = style.sheet\r\n    sheet.insertRule(name + '{' + rules + '}', 0)\r\n  }\r\n\r\n  createCSS('reef-helper', 'display:none;')\r\n*/\r\n  var rf_s\r\n  function sanitize (str) {\r\n    if (typeof (str) === 'object') {\r\n      for (var k in str) {\r\n        switch (typeof (str[k])) {\r\n          case 'string':\r\n          case 'object':\r\n            str[k] = str[k] ? sanitize(str[k]) : str[k] // to handle null etc\r\n          default: break\r\n        }\r\n      }\r\n      return str\r\n    }\r\n    rf_s = rf_s || document.createElement('div')\r\n    rf_s.textContent = str\r\n    return rf_s.innerHTML\r\n  }\r\n  function emit (el, ev, detail) {\r\n    el = resolveEl(el); detail = detail || {}\r\n    if (el) { detail.reefEmitRootEl = el }\r\n    document.dispatchEvent(new CustomEvent(ev, { detail: detail }))\r\n  }\r\n\r\n  function ready (cb) {\r\n    if (document.readyState === 'complete' ||\r\n      (document.readyState !== 'loading' && !document.documentElement.doScroll)) {\r\n      cb()\r\n    } else {\r\n      document.addEventListener('DOMContentLoaded', cb)\r\n    }\r\n  }\r\n  if (opts.autorun) {\r\n    ready(function () {\r\n      run()\r\n    })\r\n  }\r\n\r\n  opts.use = opts.use || Reefer\r\n  var templateEngine = document.currentScript ? templateGenerator : templateGeneratorES5 // proxy for literal support\r\n\r\n  // ============================================\r\n  // exports\r\n  // ============================================\r\n  return {\r\n    register: register,\r\n    mount: mount,\r\n    run: run,\r\n    template: templateEngine,\r\n    ready: ready,\r\n    emit: emit,\r\n    sanitize: sanitize,\r\n    styleBag: Reefer.prototype.styleBag,\r\n    registry: function (name) { return name ? rf_registry[name] : rf_registry },\r\n    find: function (a, ctx) { a = this.findAll(a, ctx); return a ? a[0] : null },\r\n    findAll: function (a, ctx) { a = [].slice.call((ctx || document).querySelectorAll(a)); var j = 0; if (a) for (var i = 0; i < a.length; i++) { a[j] = a[i].reef; j += a[j] ? 1 : 0 } return j ? (a.length = j, a) : null }\r\n  }\r\n}\r\n\r\nwindow.reefer = ReeferFactory({ autorun: true })\r\n"],"sourceRoot":""}